{"version":3,"sources":["reducers/userSession.js","reducers/networks.js","reducers/basicAuth.js","reducers/dockerImages.js","reducers/containers.js","reducers/solution.js","reducers/solutionParameters.js","reducers/domains.js","reducers/nginxConfigs.js","reducers/settings.js","reducers/nginxDockerLinks.js","reducers/literals.js","reducers/nginxPresetParams.js","store/store.js","reducers/index.js","services/API.js","services/sockerPubSub.js","services/authentication.js","serviceWorker.js","App.js","components/pages/styles.js","components/elements/LoadingIndicator/index.js","lib/StoreHelper/loadData.js","components/elements/SharableView/index.js","components/elements/AlertBar/index.js","components/elements/Dialogs/AlertDialog.js","components/pages/SolutionConfigurations/components/styles.js","components/elements/ValidationForm/index.js","components/pages/SolutionConfigurations/components/solutionEditor/solutionEditor.js","components/pages/SolutionConfigurations/components/exportWizardDialog/exportWizardDialog.js","components/pages/SolutionConfigurations/SolutionConfigurations.js","components/elements/TableEditors/styles.js","components/elements/TableEditors/networks.js","components/elements/TableEditors/dockerImages.js","components/elements/Dialogs/ContainerVolumeDialog.js","components/elements/TableEditors/containers.js","components/pages/DockerConfigurations/DockerConfigurations.js","components/elements/Dialogs/CertificateUploadDialog.js","components/elements/TableEditors/domains.js","components/elements/TableEditors/basicAuth.js","components/elements/TableEditors/nginxPresetParams.js","components/elements/TableEditors/nginxConfigs.js","components/pages/NGinxConfigurations/NGinxConfigurations.js","components/pages/SettingsConfigurations/SettingsConfigurations.js","components/pages/Login/Login.js","i18n/index.js","index.js","logo.svg"],"names":["initialState","token","userId","online","userSession","state","arguments","length","undefined","action","type","Object","assign","data","networks","reducers_basicAuth","dockerImages","reducers_containers","map","c","id","reducers_solution","filter","o","solutionParameters","domains","reducers_nginxConfigs","settings","reducers_nginxDockerLinks","concat","toConsumableArray","reducers_literals","nginxPresetParams","configureStore","createStore","combineReducers","containers","nginxConfigs","basicAuth","literals","solutions","nginxDockerLinks","API","entity","this","endpoints","name","createBasicCRUDEndpoints","arrayOfEntity","forEach","createEntity","bind","_this","_ref","resourceURL","url","getOne","query","Promise","resolve","reject","fetch","JSON","stringify","method","headers","then","response","ok","err","Error","status","json","catch","console","log","getAll","getAllRelations","relationName","deleteById","create","toCreate","body","linkRelation","relatedModelName","relatedId","relationObject","unlinkRelation","update","toUpdate","remote","solutionExport","solutionId","formData","Authorization","solutionImport","uploadCertificate","domainId","remoteGet","queryString","key","push","encodeURIComponent","join","buildRemoteFileUri","upload","Content-Type","Accept","require","apiBaseRoute","io","SockerPubSub","sockerio_url","socketioBaseRoute","window","location","protocol","hostname","socket","path","on","emit","uid","store","dispatch","subscriptions","eventName","cb","disconnect","Authentication","credentials","SdfUsers","loginData","setUser","SocketPubSub","login","sessionStorage","accessToken","logout","Boolean","match","App","react_default","a","createElement","Redirect","to","Component","connect","props","styles","theme","root","flexGrow","title","fontSize","color","paper","padding","spacing","unit","backgroundColor","position","margin","redColor","greenColor","blueColor","greyColor","modalPaper","width","palette","background","boxShadow","shadows","tableTitleDiv","marginTop","marginBottom","textAlign","tableCell","whiteSpace","wordWrap","snackClose","configPaper","paddingLeft","paddingRight","menuItem","menuItemSelected","primary","icon","viewContainer","borderLeft","emptyView","height","backgroundSize","backgroundRepeat","backgroundPosition","LoadingIndicator","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","show","style","zIndex","top","bottom","left","right","flex","alignItems","justifyContent","className","src","logo","fontWeight","lineHeight","message","StoreHelper","initialized","reloadCoreData","Settings","resultSettings","Networks","resultNetworks","BasicAuths","resultBasicAuth","DockerImages","resultDockerImages","Containers","resultContainers","i","networkRelations","Solutions","resultSolutions","NginxDockerLinks","SolutionParameters","resultSolutionParameters","Domains","resultDomains","NginxConfigs","resultNginxConfigs","NginxPresetParams","resultNginxPresetParams","SharableViewComponent","selectedPageIndex","pageIndex","loading","loadingMessage","_this2","setState","notify","loadTableList","off","_this3","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","loadStoreData","t0","clearStoreData","stop","defaultNginxDomain","find","s","value","_this4","alt","index_es","variant","textTransform","onClick","disabled","deploy","Tabs_default","onChange","event","history","centered","textColor","Tab_default","label","children","elements_LoadingIndicator","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","SnackbarContentWrapper","withStyles","green","dark","amber","iconVariant","opacity","marginRight","display","classes","onClose","other","objectWithoutProperties","Icon","msgArray","SnackbarContent_default","classNames","aria-describedby","m","maxWidth","IconButton_default","aria-label","close","Close_default","AlertSnackbars","open","handleClose","reason","duration","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","React","ReactConfirmAlert","handleClickButton","button","target","document","getElementById","unmountComponentAtNode","parentNode","removeChild","removeElementReconfirm","keyboardClose","keyCode","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","willUnmount","_this$props","buttons","Dialog_default","aria-labelledby","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","Button_default","confirmAlert","properties","divTarget","render","AlertDialog_ReactConfirmAlert","classList","add","appendChild","createElementReconfirm","defaultProps","sectionBlockHeader","sectionBlockBody","saveSection","fab","uploadButton","rightButtonIcon","marginLeft","appBar","minWidth","emptyLine","ValidatorForm","isValidated","validate","formEl","formLength","checkValidity","elem","errorLabel","getAttribute","querySelector","textContent","autocomplete","nodeName","toLowerCase","validity","valid","validationMessage","hasCustomErrors","submitHandler","preventDefault","onSubmit","noValidate","ref","form","shortid","SolutionEditor","VOLUME_MAPPER","saveSolution","nginxErrors","_loop","dbSolution","_loop2","y","_loop3","_context4","solution","_name","abrupt","nginxConfigIds","ndx","containerId","_solutionParameters","nginxConfigId","where","sent","description","_description","alias","_sp","delegateYield","container","_loop4","_context3","volumes","spVolumeObj","pathMapKey","vObject","containerPath","hostPath","nginxConfigObj","_context2","nc","uriPath","subdomain","asSubdomain","solutionSaved","t2","availableContainersAnchorEl","parse","sp","_prepareContainerStates","currentTarget","cIndex","stateObject","stateReset","keys","stateKey","indexOf","volumeKey","_v","volumeObj","cid","stateData","_this5","containerVolumeMapObject","volume","vId","generate","ndl","nxc","_this6","item","xs","e","stateUpd","_this7","row","control","checked","_this8","fullWidth","_this9","htmlFor","defineProperty","inputProps","domain","_this10","containerBlocks","solutionParameter","availableVolumes","gutterBottom","onRemoveContainer","paddingTop","onLookupVolume","anchorEl","handleAvailableVolumeMenuClose","v","vs","required","volumeDescription","paddingBottom","size","onRemoveVolume","Delete_default","z","borderRadius","port","getDialogFormBlockDomain","getDialogFormBlockUriPath","getDialogFormBlockIsSubdomain","getDialogFormBlockSubdomain","_this11","availableContainers","onLookupContainer","handleAvailableContainerMenuClose","getSolutionContainerBlock","_this12","nameSpan","ValidationForm","onDeleteSolution","exportSolution","multiline","getSolutionContainerEditor","ExportWizardDialog","handlePublicImageSwitchChange","_this$setState","stateObj","refName","ReactDOM","findDOMNode","refs","click","files","FormData","append","blob","URL","createObjectURL","href","download","remove","allValide","onDialogClose","exportNow","image","dockerImageId","version","accept","handleDockerfileZipSelected","openFileDialog","CloudUpload_default","Divider_default","isProd","environment","SAFE_STRING_REGEX","SolutionPage","sharedView","handleSnackClose","snackOpen","handleSolutionMenuClick","selectedSolutionId","selectedSolutionAlias","setTimeout","handleNewSolutionClose","targetSelect","newSolutionAnchorEl","aliasInputDialogValueErrors","aliasInputDialogValue","aliasInputDialogOpen","snackMessage","snackVariant","exportSolutionWizard","hasSubdomains","openSnack","solutionEditor","deleteSolution","afterSolutionSaved","_onClick","_callee2","sid","solutionLinks","apply","autoFocus","exec","openImportSolutionFileDialog","fileInputDom","import_input","containerBuildDirs","solutionJsonFilePath","emptyState","backgroundImage","SharableView","el","aria-owns","aria-haspopup","handleNewSolutionClick","CreateNewFolderOutlined_default","inset","ImportExport_default","DonutLarge_default","noWrap","renderSolutionEditor","AlertBar","getAliasEditorDialog","handleImportSolutionSelect","exportWizardDialog","onSolutionExportDialogClose","formDiv","overflow","maxHeight","tableHeaderCell","tableCellButton","card","cardInfo","emptyDialogLine","Transition","Slide_default","direction","NetworksTable","SET_DATA_REDUCER_ACTION","handleDialogClose","setSelected","saveDialogData","modelObject","dbResult","_dbResult","updData","_id","populateSelected","mode","deleteDialogData","_callee3","populateEditorFormFromObject","selected","tblClickDebouncer","cellClasses","isSelected","selectedId","TableRow_default","hover","handleRowClick","TableCell_default","selectedItem","clearTimeout","si","tblHeader","tableHeader","Table_default","table","TableHead_default","TableBody_default","tableRow","Typography_default","LinearProgress_default","TransitionComponent","AppBar_default","Toolbar_default","generateFormContent","DockerImagesTable","template","YAML","t1","_version","_template","colSpan","ReactContainerVolumeDialog","doit","currentVolumes","onDuplicate","git","cmd","execOnEveryDeploy","Grid_default","TextField_default","FormGroup_default","FormControlLabel_default","Switch_default","submitLabel","volumeDialog","ContainerVolumeDialog_ReactContainerVolumeDialog","PORT_MAPPING_REGEX","DNS_MAPPING_REGEX","ENV_REGEX","MenuProps","PaperProps","ITEM_HEIGHT","ConfigsTable","dependsOnOverlap","_i","_i2","_dependsOn","depCont","dependsOn","u","_networks","networkId","toDelSolutionParams","inputDialogOpen","inputDialogLabel","inputDialogTarget","inputDialogValue","inputDialogKey","inputDialogValueErrors","dImage","di","_dockerImageId","_env","env","_ports","ports","_command","command","_user","user","_workingDir","workingDir","_volumes","_dns","dns","text","validator","validationErrors","networkNames","n","multiple","renderValue","containerNames","oid","cl","imageObject","yamlDoc","substring","networkIds","depends_on","configIds","working_dir","component","dense","en","index","CheckCircleOutline_default","secondary","splice","_onSubmit","_callee4","_x","vObj","_this13","_ref3","_callee5","oldContainerPath","_context5","_x2","_x3","FolderOpen_default","_this14","Dns_default","_this15","_this16","getDialogFormBlockName","getDialogFormBlockDockerImages","getDialogFormBlockCommand","getDialogFormBlockUser","getDialogFormBlockWorkingDir","getDialogFormBlockDependsOn","getDialogFormBlockVolumes","getDialogFormBlockDns","getDialogFormBlockEnvironementVariables","getDialogFormBlockPorts","stringEditorDialog","DockerPage","TableEditors_dockerImages","TableEditors_containers","CertificateUploadDialog","privkey","cert","onDone","fName","endsWith","handleFileSelected","certificateUploadDialog","CertificateUploadDialog_CertificateUploadDialog","DomainsTable","allOk","checkDomain","_value","httpsEnabled","configured","sslMissing","defaultDomain","settingsInterval","setInterval","clearInterval","Security_default","defaultDomainToggleEvent","previousDefaultDomain","settingsUpdate","settingsClone","sc","_httpsEnabled","setLoading","_onDone","Card_default","CardContent_default","scroll","getDialogFormBlockHttpsEnabled","getDialogFormBlockUploadCertificates","BasicAuthTable","username","_username","basicAuthId","_password","password","NginxPresetsTable","nginxPresetParamsId","_list","list","getDialogFormBlockParamssList","nginxDockerLink","_serverTarget","_port","_asSubdomain","_domainId","_selectedContainers","_nginxDockerLink","cUpdated","populateEditorFormObject","_uriPath","_subdomain","_proxyPath","proxyPath","_nginxPresetParamsId","_basicAuthId","serverTarget","psItem","getDialogFormBlockBasicAuth","getDialogFormBlockServerTarget","getDialogFormBlockContainers","getDialogFormBlockPort","getDialogFormBlockProxyTarget","getDialogFormBlockPresetParams","NginxConfigurationsPage","TableEditors_domains","loadingStateChange","TableEditors_nginxPresetParams","TableEditors_basicAuth","TableEditors_nginxConfigs","_nginxConfigPath","_composeConfigPath","_defaultNginxDomain","_nginxHtpasswdDir","stateForm","newSettings","obj","setting","sort","b","saveSettings","getSettingField","LoginPage","email","transform","justify","icons_index_es","md","sm","langs","PubSubController","lang","loadLang","routing","BrowserRouter","basename","es","Route","exact","SolutionConfigurationPage","DockerConfigurationsPage","SettingsConfigurationsPage","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.7044d0ff.chunk.js","sourcesContent":["let initialState = { token: null, userId: null, online: false };\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"LOGGIN_USER\":\r\n            state = Object.assign({}, state, action.data);\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_NETWORKS\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_BASICAUTH\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_DOCKER_IMAGES\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_CONTAINERS\":\r\n            return action.data;\r\n        case \"UPDATE_CONTAINER\":\r\n            return state.map(c => {\r\n                if (c.id == action.data.id) {\r\n                    return action.data;\r\n                } else {\r\n                    return c;\r\n                }\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_SOLUTIONS\":\r\n            return action.data;\r\n        case \"DELETE_SOLUTION\":\r\n            return state.filter(o => o.id != action.data);\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_SOLUTION_PARAMETERS\":\r\n            return action.data;\r\n        case \"DELETE_SOLUTION_PARAMETER\":\r\n            return state.filter(o => o.id != action.data);\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_DOMAINS\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_NGINX_CONFIGS\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_SETTINGS\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_NGINX_DOCKER_LINKS\":\r\n            return action.data;\r\n        case \"ADD_NGINX_DOCKER_LINKS\":\r\n            return [...state, ...action.data];\r\n        case \"DELETE_NGINX_DOCKER_LINK\":\r\n            return state.filter(o => o.id != action.data);\r\n        default:\r\n            return state;\r\n    }\r\n};","let initialState = { };\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case \"LOAD_LITERALS\":\n            state = Object.assign({}, state, action.data);\n            return state;\n        default:\n            return state;\n    }\n};","let initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_NGINX_PRESET_PARAMS\":\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n};","import { createStore } from 'redux';\r\nimport reducers from '../reducers/index';\r\n\r\nlet configureStore = () => {\r\n    // Now create the store\r\n    let store = createStore(reducers());// , applyMiddleware(middleware)\r\n\r\n    return store;\r\n};\r\n\r\nexport default configureStore;","import { combineReducers } from 'redux';\r\n\r\nimport userSession from './userSession';\r\nimport networks from './networks';\r\nimport basicAuth from './basicAuth';\r\nimport dockerImages from './dockerImages';\r\nimport containers from './containers';\r\nimport solutions from './solution';\r\nimport solutionParameters from './solutionParameters';\r\nimport domains from './domains';\r\nimport nginxConfigs from './nginxConfigs';\r\nimport settings from './settings';\r\nimport nginxDockerLinks from './nginxDockerLinks';\r\nimport literals from './literals';\r\nimport nginxPresetParams from './nginxPresetParams';\r\n\r\nexport default () => {\r\n    return combineReducers({\r\n        userSession,\r\n        networks,\r\n        dockerImages,\r\n        containers,\r\n        domains,\r\n        nginxConfigs,\r\n        nginxPresetParams,\r\n        settings,\r\n        basicAuth,\r\n        literals,\r\n        solutions,\r\n        solutionParameters,\r\n        nginxDockerLinks\r\n    })\r\n};","class API {\n    /**\n     * Create and store a single entity's endpoints\n     * @param {A entity Object} entity\n     */\n    static createEntity(entity) {\n        this.endpoints[entity.name] = this.createBasicCRUDEndpoints(entity)\n    }\n\n    /**\n     * createEntities\n     * @param {*} arrayOfEntity \n     */\n    static createEntities(arrayOfEntity) {\n        arrayOfEntity.forEach(this.createEntity.bind(this))\n    }\n    /**\n     * Create the basic endpoints handlers for CRUD operations\n     * @param {A entity Object} entity\n     */\n    static createBasicCRUDEndpoints({ name }) {\n        var endpoints = {}\n\n        const resourceURL = `${this.url}/${name}`;\n        /**\n         * getOne\n         * @param {*} query \n         */\n        endpoints.getOne = (query) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/findOne${query ? ('?filter=' + JSON.stringify(query)) : ''}`, {\n                    method: \"GET\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    console.log(err);\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * getAll\n         * @param {*} query \n         */\n        endpoints.getAll = (query) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}${query ? ('?filter=' + JSON.stringify(query)) : ''}`, {\n                    method: \"GET\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * getAll\n         * @param {*} query \n         */\n        endpoints.getAllRelations = (id, relationName) => {\n            return new Promise((resolve, reject) => {\n\n                fetch(`${resourceURL}/${id}/${relationName}`, {\n                    method: \"GET\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * deleteById\n         * @param {*} query \n         */\n        endpoints.deleteById = (id) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${id}`, {\n                    method: \"DELETE\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * create\n         * @param {*} toCreate \n         */\n        endpoints.create = (toCreate) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}`, {\n                    method: \"POST\",\n                    headers: this.headers,\n                    body: JSON.stringify(toCreate)\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * linkRelation\n         */\n        endpoints.linkRelation = (id, relatedModelName, relatedId, relationObject) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${id}/${relatedModelName}/rel/${relatedId}`, {\n                    method: \"PUT\",\n                    headers: this.headers,\n                    body: JSON.stringify(relationObject)\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve();\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * linkRelation\n         */\n        endpoints.unlinkRelation = (id, relatedModelName, relatedId) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${id}/${relatedModelName}/rel/${relatedId}`, {\n                    method: \"DELETE\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve();\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * update\n         * @param {*} toUpdate \n         */\n        endpoints.update = (toUpdate) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}`, {\n                    method: \"PUT\",\n                    headers: this.headers,\n                    body: JSON.stringify(toUpdate)\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * remote\n         * @param {*} name \n         * @param {*} id \n         * @param {*} body \n         */\n        endpoints.remote = (name, id, method, body) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${name}${id ? (\"/\" + id) : \"\"}`, {\n                    method: method,\n                    headers: this.headers,\n                    body: JSON.stringify(body)\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.status != 204 ? response.json() : null);\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * solutionExport\n         */\n        endpoints.solutionExport = (solutionId, formData) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/exportSolution/${solutionId}`, {\n                    method: \"POST\",\n                    headers: {\n                        'Authorization': this.headers.Authorization\n                    },\n                    body: formData\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"Invalide Dockerfile folder\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response);\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * solutionImport\n         */\n        endpoints.solutionImport = (formData) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/importSolution`, {\n                    method: \"POST\",\n                    headers: {\n                        'Authorization': this.headers.Authorization\n                    },\n                    body: formData\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.status != 204 ? response.json() : null);\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * solutionImport\n         */\n        endpoints.uploadCertificate = (domainId, formData) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/uploadCertificate/${domainId}`, {\n                    method: \"POST\",\n                    headers: {\n                        'Authorization': this.headers.Authorization\n                    },\n                    body: formData\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.status != 204 ? response.json() : null);\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * remoteGet\n         */\n        endpoints.remoteGet = (name, query) => {\n            let queryString = [];\n            query = query || {};\n            for (let key in query) {\n                queryString.push(key + \"=\" + encodeURIComponent(query[key]));\n            }\n\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${name}${queryString.length > 0 ? (\"?\" + queryString.join(\"&\")) : \"\"}`, {\n                    method: \"GET\",\n                    headers: this.headers\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n        /**\n         * buildRemoteFileUri\n         */\n        endpoints.buildRemoteFileUri = (name, query) => {\n            let queryString = [];\n            query = query || {};\n            for (let key in query) {\n                queryString.push(key + \"=\" + encodeURIComponent(query[key]));\n            }\n            if (this.headers.Authorization)\n                queryString.push(\"access_token=\" + this.headers.Authorization);\n\n            return `${resourceURL}/${name}${queryString.length > 0 ? (\"?\" + queryString.join(\"&\")) : \"\"}`;\n        }\n\n        /**\n         * upload\n         * @param {*} name \n         * @param {*} id \n         * @param {*} formData \n         */\n        endpoints.upload = (name, id, formData) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${resourceURL}/${name}${id ? (\"/\" + id) : \"\"}`, {\n                    method: \"POST\",\n                    headers: {\n                        'Content-Type': 'multipart/form-data',\n                        'Authorization': this.headers.Authorization\n                    },\n                    body: formData\n                }).then(response => {\n                    if (!response.ok) {\n                        let err = new Error(\"An error occured\");\n                        err.status = response.status;\n                        return reject(err);\n                    }\n                    resolve(response.json());\n                }).catch(err => {\n                    reject(err);\n                });\n            });\n        }\n\n\n\n        // endpoints.getOne = ({ id }) => fetch.get(`${resourceURL}/${id}`)\n\n        // endpoints.update = (toUpdate) => fetch.put(`${resourceURL}/${toUpdate.id}`, toUpdate)\n\n        // endpoints.patch = ({ id }, toPatch) => fetch.patch(`${resourceURL}/${id}`, toPatch)\n\n        // endpoints.delete = ({ id }) => fetch.delete(`${resourceURL}/${id}`)\n\n        return endpoints\n    }\n}\n\nAPI.headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n};\nAPI.url = require(\"../env.json\").apiBaseRoute;\nAPI.endpoints = {};\n\nAPI.createEntity({ name: 'SdfUsers' });\nAPI.createEntity({ name: 'Networks' });\nAPI.createEntity({ name: 'DockerImages' });\nAPI.createEntity({ name: 'Containers' });\nAPI.createEntity({ name: 'NginxConfigs' });\nAPI.createEntity({ name: 'NginxPresetParams' });\nAPI.createEntity({ name: 'Domains' });\nAPI.createEntity({ name: 'BasicAuths' });\nAPI.createEntity({ name: 'Settings' });\nAPI.createEntity({ name: 'Solutions' });\nAPI.createEntity({ name: 'SolutionParameters' });\nAPI.createEntity({ name: 'NginxDockerLinks' });\n\nexport default API;","const io = require(\"socket.io-client\");\r\n\r\nclass SockerPubSub {\r\n    /**\r\n     * login\r\n     */\r\n    static login(userId) {\r\n        let sockerio_url = require(\"../env.json\").socketioBaseRoute;\r\n        console.log(\"=> Connecting to socket IO server: \", `${window.location.protocol}//${window.location.hostname}`);\r\n        this.socket = io(sockerio_url ? sockerio_url : `${window.location.protocol}//${window.location.hostname}`, { path: '/psh-socket' });\r\n\r\n        // When the RTM server socket connections is established\r\n        this.socket.on('connect', () => {\r\n            console.log(\"connected\");\r\n            // Ask to open a connection for a specific \r\n            this.socket.emit('registerSockerUser', {\r\n                \"uid\": userId\r\n            });\r\n\r\n            this.store.dispatch(\r\n                {\r\n                    type: \"LOGGIN_USER\",\r\n                    data: { \"online\": true }\r\n                }\r\n            );\r\n        });\r\n\r\n        // When an update on the server occures\r\n        this.socket.on('dataUpdate', (data) => {\r\n            // console.log(JSON.stringify(data, null, 4));\r\n        });\r\n\r\n        // When an update on the server occures\r\n        this.socket.on('deployStatus', (data) => {\r\n            this.subscriptions.forEach(o => {\r\n                if (o.eventName == 'deployStatus') {\r\n                    o.cb(data);\r\n                }\r\n            });\r\n        });\r\n\r\n        // When an update on the server occures\r\n        this.socket.on('importStatus', (data) => {\r\n            this.subscriptions.forEach(o => {\r\n                if (o.eventName == 'importStatus') {\r\n                    o.cb(data);\r\n                }\r\n            });\r\n        });\r\n\r\n        // When the RTM server socket connections goes down\r\n        this.socket.on('disconnect', () => {\r\n            console.log(\"Disconnected\");\r\n            this.store.dispatch(\r\n                {\r\n                    type: \"LOGGIN_USER\",\r\n                    data: { \"online\": false }\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * logout\r\n     */\r\n    static logout() {\r\n        if (this.socket) {\r\n            this.socket.disconnect();\r\n            this.socket = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * on\r\n     */\r\n    static on(eventName, cb) {\r\n        this.subscriptions.push({\r\n            \"eventName\": eventName,\r\n            \"cb\": cb\r\n        });\r\n    }\r\n\r\n    /**\r\n     * off\r\n     */\r\n    static off(eventName) {\r\n        this.subscriptions = this.subscriptions.filter(o => o.eventName != eventName);\r\n    }\r\n}\r\nSockerPubSub.store = null;\r\nSockerPubSub.socket = null;\r\nSockerPubSub.subscriptions = [];\r\n\r\nexport default SockerPubSub;\r\n","import API from \"./API\";\r\nimport SocketPubSub from './sockerPubSub';\r\n\r\n\r\n\r\nclass Authentication {\r\n\r\n    /**\r\n     * login\r\n     */\r\n    static async login(credentials) {\r\n        // Try to login on the sdf server\r\n        let loginData = await API.endpoints.SdfUsers.remote(\"login\", null, \"POST\", credentials);\r\n        await this.setUser(loginData);\r\n    }\r\n\r\n    /**\r\n     * setUser\r\n     */\r\n    static async setUser(loginData) {\r\n        SocketPubSub.login(loginData.userId);\r\n\r\n        API.headers.Authorization = loginData.id;\r\n        sessionStorage.accessToken = JSON.stringify(loginData);\r\n        // Dispatch userObject to store\r\n        this.store.dispatch(\r\n            {\r\n                type: \"LOGGIN_USER\",\r\n                data: { \"token\": loginData.id, \"userId\": loginData.userId }\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * logout\r\n     */\r\n    static async logout() {\r\n        // TODO: Needs to be implemented\r\n        // await API.endpoints.SdfUsers.remote(\"logout\", null, \"POST\", );\r\n\r\n        SocketPubSub.logout();\r\n\r\n        // Dispatch userObject to store\r\n        this.store.dispatch({\r\n            type: \"LOGGIN_USER\",\r\n            data: { \"token\": null }\r\n        });\r\n\r\n        delete API.headers.Authorization;\r\n        sessionStorage.accessToken = null;\r\n    }\r\n}\r\n\r\nAuthentication.store = null;\r\n\r\nexport default Authentication;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (<Redirect to='/login' />);\n  }\n}\n\n// The function takes data from the app current state,\n// and insert/links it into the props of our component.\n// This function makes Redux know that this component needs to be passed a piece of the state\nconst mapStateToProps = (state, props) => ({\n  userSession: state.userSession\n});\n\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\n\n//Connect everything\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const styles = theme => ({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    title: {\r\n        fontSize: 32,\r\n        color: '#ffffff'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing.unit,\r\n        backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n        position: 'relative'\r\n    },\r\n    margin: {\r\n        margin: theme.spacing.unit * 2,\r\n    },\r\n    padding: {\r\n        padding: theme.spacing.unit\r\n    },\r\n    redColor: {\r\n        color: \"#db1d1d\",\r\n    },\r\n    greenColor: {\r\n        color: \"green\",\r\n    },\r\n    blueColor: {\r\n        color: \"blue\",\r\n    },\r\n    greyColor: {\r\n        color: \"#cccccc\",\r\n    },\r\n    modalPaper: {\r\n        position: 'absolute',\r\n        width: theme.spacing.unit * 50,\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing.unit * 4,\r\n    },\r\n    tableTitleDiv: {\r\n        fontSize: 28,\r\n        marginTop: 5,\r\n        marginBottom: 10,\r\n        textAlign: 'left'\r\n    },\r\n    tableCell: {\r\n        whiteSpace: 'normal',\r\n        wordWrap: 'break-word'\r\n    },\r\n    snackClose: {\r\n        padding: theme.spacing.unit / 2,\r\n    },\r\n    configPaper: {\r\n        padding: theme.spacing.unit,\r\n        position: 'relative',\r\n        textAlign: 'left',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\r\n    },\r\n    menuItem: {},\r\n    menuItemSelected: {\r\n        backgroundColor: '#bbbbbb',\r\n    },\r\n    primary: {},\r\n    icon: {},\r\n    viewContainer: {\r\n        borderLeft: '10px solid #cccccc'\r\n    },\r\n    emptyView: {\r\n        height: 400,\r\n        backgroundSize: 'contain',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center'\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","'use strict';\n\nimport React, { Component } from 'react';\nimport logo from '../../../logo.svg';\n\nclass LoadingIndicator extends Component {\n\t/**\n\t * \n\t * @param {*} props \n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * \n\t */\n\trender() {\n\t\tif (this.props.show) {\n\t\t\treturn <div style={{\n\t\t\t\tposition: \"fixed\",\n\t\t\t\tzIndex: 2000,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tflex: 1,\n\t\t\t\talignItems: \"center\",\n\t\t\t\tjustifyContent: \"center\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.7)'\n\t\t\t}}>\n\t\t\t\t<img className=\"Loading\" src={logo} />\n\t\t\t\t<div style={{\n\t\t\t\t\tcolor: \"#ffffff\",\n\t\t\t\t\tfontWeight: \"bold\",\n\t\t\t\t\tlineHeight: 2,\n\t\t\t\t\tpaddingLeft: 40,\n\t\t\t\t\tpaddingRight: 40,\n\t\t\t\t}}>{this.props.message ? this.props.message : \"Processing...\"}</div>\n\t\t\t</div >;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n//Connect everything\nexport default LoadingIndicator;","import API from \"../../services/API\";\n\nclass StoreHelper {\n\n    /**\n     * loadStoreData\n     * @param {*} dispatch \n     */\n    static async loadStoreData(dispatch) {\n        if (!this.initialized) {\n            await this.reloadCoreData(dispatch);\n\n            let resultSettings = await API.endpoints.Settings.getAll();\n            dispatch({\n                type: \"SET_SETTINGS\",\n                data: resultSettings\n            });\n        }\n        this.initialized = true;\n    }\n\n    /**\n     * clearStoreData\n     * @param {*} dispatch \n     */\n    static async clearStoreData(dispatch) {\n        this.initialized = false;\n        dispatch({\n            type: \"SET_NETWORKS\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_BASICAUTH\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_CONTAINERS\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_DOCKER_IMAGES\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_DOMAINS\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_NGINX_CONFIGS\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_NGINX_PRESET_PARAMS\",\n            data: []\n        });\n        dispatch({\n            type: \"SET_SETTINGS\",\n            data: []\n        });\n    }\n\n    /**\n     * reloadCoreData\n     * @param {*} dispatch \n     */\n    static async reloadCoreData(dispatch) {\n        let resultNetworks = await API.endpoints.Networks.getAll();\n        dispatch({\n            type: \"SET_NETWORKS\",\n            data: resultNetworks\n        });\n\n        let resultBasicAuth = await API.endpoints.BasicAuths.getAll();\n        dispatch({\n            type: \"SET_BASICAUTH\",\n            data: resultBasicAuth\n        });\n\n        let resultDockerImages = await API.endpoints.DockerImages.getAll();\n        dispatch({\n            type: \"SET_DOCKER_IMAGES\",\n            data: resultDockerImages\n        });\n\n        let resultContainers = await API.endpoints.Containers.getAll();\n        for (let i = 0; i < resultContainers.length; i++) {\n            let networkRelations = await API.endpoints.Containers.getAllRelations(resultContainers[i].id, \"networks\");\n            resultContainers[i].networks = networkRelations.map(o => o.id);\n        }\n        dispatch({\n            type: \"SET_CONTAINERS\",\n            data: resultContainers\n        });\n\n        let resultSolutions = await API.endpoints.Solutions.getAll();\n        dispatch({\n            type: \"SET_SOLUTIONS\",\n            data: resultSolutions\n        });\n\n        let nginxDockerLinks = await API.endpoints.NginxDockerLinks.getAll();\n        dispatch({\n            type: \"SET_NGINX_DOCKER_LINKS\",\n            data: nginxDockerLinks\n        });\n\n        let resultSolutionParameters = await API.endpoints.SolutionParameters.getAll();\n        dispatch({\n            type: \"SET_SOLUTION_PARAMETERS\",\n            data: resultSolutionParameters\n        });\n\n        let resultDomains = await API.endpoints.Domains.getAll();\n        dispatch({\n            type: \"SET_DOMAINS\",\n            data: resultDomains\n        });\n\n        let resultNginxConfigs = await API.endpoints.NginxConfigs.getAll();\n        dispatch({\n            type: \"SET_NGINX_CONFIGS\",\n            data: resultNginxConfigs\n        });\n\n        let resultNginxPresetParams = await API.endpoints.NginxPresetParams.getAll();\n        dispatch({\n            type: \"SET_NGINX_PRESET_PARAMS\",\n            data: resultNginxPresetParams\n        });\n    }\n}\nStoreHelper.initialized = false;\nexport default StoreHelper;","'use strict';\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport logo from '../../../logo.svg';\nimport { Button } from '@material-ui/core';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Authentication from '../../../services/authentication';\nimport LoadingIndicator from \"../LoadingIndicator/index\";\nimport SocketPubSub from '../../../services/sockerPubSub';\nimport StoreHelper from '../../../lib/StoreHelper/loadData';\n\nclass SharableViewComponent extends Component {\n\t/**\n\t * \n\t * @param {*} props \n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedPageIndex: this.props.pageIndex,\n\t\t\tloading: false,\n\t\t\tloadingMessage: null\n\t\t};\n\t}\n\n\t/**\n     * componentDidMount\n     */\n\tcomponentDidMount() {\n\t\tSocketPubSub.on(\"deployStatus\", (data) => {\n\t\t\tif (data.status && data.status == \"done\") {\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loading\": false,\n\t\t\t\t\t\"loadingMessage\": null\n\t\t\t\t});\n\t\t\t\tthis.props.notify([\"Successfully deployed configuration.\", \"If you changed the SSL status of the default config, remember to manually change your URL in your browser to get back to this website.\", \"Your server might take up to a minute to respond again, so be patient.\"]);\n\t\t\t} else if (data.status && data.status == \"error\") {\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loading\": false,\n\t\t\t\t\t\"loadingMessage\": null\n\t\t\t\t});\n\t\t\t\tthis.props.notify((data.message ? data.message : \"An error occured, could not deploy configuration\"), \"error\");\n\t\t\t} else if (data.message) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loadingMessage\": data.message\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (!this.props.userSession.token) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.loadTableList();\n\t}\n\n\t/**\n\t *componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tSocketPubSub.off(\"deployStatus\");\n\t}\n\n\t/**\n     * loadTableList\n     */\n\tloadTableList() {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loading\": true,\n\t\t\t\t\t\"loadingMessage\": null\n\t\t\t\t});\n\n\t\t\t\tawait StoreHelper.loadStoreData(this.props.dispatch);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loading\": false,\n\t\t\t\t\t\"loadingMessage\": null\n\t\t\t\t});\n\t\t\t} catch (err) {\n\n\t\t\t\tawait StoreHelper.clearStoreData(this.props.dispatch);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"loading\": false,\n\t\t\t\t\t\"loadingMessage\": null\n\t\t\t\t});\n\n\t\t\t\tthis.props.notify(\"Server unavailable\", \"error\");\n\t\t\t}\n\t\t})();\n\t}\n\n    /**\n     * logout\n     */\n\tlogout() {\n\t\tAuthentication.logout();\n\t}\n\n\t/**\n     * deploy\n     */\n\tasync deploy() {\n\t\tlet defaultNginxDomain = this.props.settings.find(s => s.name == 'defaultNginxDomain');\n\t\tif (!defaultNginxDomain || !defaultNginxDomain.value || defaultNginxDomain.value.length == 0) {\n\t\t\treturn this.props.notify(\"You need to set a default domain first to be able to deploy a new config.\", \"error\");\n\t\t}\n\t\tlet valideDomain = this.props.domains.find(o => (defaultNginxDomain.value == o.value));\n\t\tif (!valideDomain) {\n\t\t\treturn this.props.notify(\"You configured default domain has not ben declared in your domains.\", \"error\");\n\t\t}\n\n\t\tthis.setState({\n\t\t\t\"loading\": true,\n\t\t\t\"loadingMessage\": \"Deploying...\"\n\t\t});\n\t\ttry {\n\t\t\tSocketPubSub.socket.emit('deployConfig', {\n\t\t\t\t\"uid\": this.props.userSession.userId\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tthis.setState({\n\t\t\t\t\"loading\": false,\n\t\t\t\t\"loadingMessage\": null\n\t\t\t});\n\t\t\tthis.props.notify(\"An error occured, could not deploy configuration\", \"error\");\n\t\t}\n\t}\n\n\t/**\n\t * \n\t */\n\trender() {\n\t\treturn <div style={{ flex: 1 }}>\n\t\t\t<div className=\"App\">\n\t\t\t\t<header className=\"App-header\">\n\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t\t<p>Server Docker Farm</p>\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" style={{ textTransform: \"none\", position: 'absolute', right: 20, top: 20 }} onClick={this.logout.bind(this)}>Logout</Button>\n\t\t\t\t\t<Button disabled={!this.props.userSession.online} variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 120, top: 20 }} onClick={this.deploy.bind(this)}>Deploy</Button>\n\t\t\t\t</header>\n\t\t\t\t{/* <AppBar position=\"static\"> */}\n\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={this.state.selectedPageIndex}\n\t\t\t\t\tonChange={(event, value) => {\n\t\t\t\t\t\tthis.setState({ selectedPageIndex: value });\n\n\t\t\t\t\t\tif (value == 2) {\n\t\t\t\t\t\t\tthis.props.history.push(\"/nginx\")\n\t\t\t\t\t\t} else if (value == 3) {\n\t\t\t\t\t\t\tthis.props.history.push(\"/config\")\n\t\t\t\t\t\t} else if (value == 0) {\n\t\t\t\t\t\t\tthis.props.history.push(\"/solution\")\n\t\t\t\t\t\t} else if (value == 1) {\n\t\t\t\t\t\t\tthis.props.history.push(\"/docker\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tcentered\n\t\t\t\t\ttextColor=\"secondary\">\n\n\t\t\t\t\t<Tab label=\"Solutions\" style={this.state.selectedPageIndex != 0 ? { color: \"#ffffff\" } : null} />\n\t\t\t\t\t<Tab label=\"Containers\" style={this.state.selectedPageIndex != 1 ? { color: \"#ffffff\" } : null} />\n\t\t\t\t\t<Tab label=\"NGinx\" style={this.state.selectedPageIndex != 2 ? { color: \"#ffffff\" } : null} />\n\t\t\t\t\t<Tab label=\"Settings\" style={this.state.selectedPageIndex != 3 ? { color: \"#ffffff\" } : null} />\n\t\t\t\t</Tabs>\n\t\t\t\t{/* </AppBar> */}\n\t\t\t\t<div className=\"App-body\">\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</div>\n\n\t\t\t</div >\n\t\t\t<LoadingIndicator show={this.state.loading} message={this.state.loadingMessage} />\n\t\t</div >;\n\t}\n}\n\n// The function takes data from the app current state,\n// and insert/links it into the props of our component.\n// This function makes Redux know that this component needs to be passed a piece of the state\nconst mapStateToProps = (state, props) => ({\n\tuserSession: state.userSession,\n\tdomains: state.domains,\n\tsettings: state.settings\n});\n\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\n\n//Connect everything\nexport default connect(mapStateToProps, mapDispatchToProps)(SharableViewComponent);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nconst styles1 = theme => ({\n    success: {\n        backgroundColor: green[600],\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    info: {\n        backgroundColor: theme.palette.primary.dark,\n    },\n    warning: {\n        backgroundColor: amber[700],\n    },\n    icon: {\n        fontSize: 20,\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing.unit,\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'left',\n    },\n});\n\nfunction CustomSnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n\n    let msgArray = [];\n    if (typeof message === 'string') {\n        msgArray.push(message);\n    } else {\n        msgArray = message;\n    }\n\n    return (\n        <SnackbarContent\n            className={classNames(classes[variant], className)}\n            aria-describedby=\"client-snackbar\"\n            message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                    <Icon className={classNames(classes.icon, classes.iconVariant)} />\n                    <div>\n                        {msgArray.map((m, i) => {\n                            return <div key={\"snack_\" + i} style={{ textAlign: 'left', marginTop: i > 0 ? 10 : 0, maxWidth: 480 }}>{m}</div>\n                        })}\n                    </div>\n                </span>\n            }\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"Close\"\n                    color=\"inherit\"\n                    className={classes.close}\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.icon} />\n                </IconButton>,\n            ]}\n            {...other}\n        />\n    );\n}\n\nCustomSnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nconst SnackbarContentWrapper = withStyles(styles1)(CustomSnackbarContent);\n\nconst styles2 = theme => ({\n    margin: {\n        margin: theme.spacing.unit,\n    },\n});\n\nclass AlertSnackbars extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        this.props.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        let duration = 6000;\n        if (this.props.variant && (this.props.variant == \"warning\" || this.props.variant == \"info\")) {\n            duration = 20000;\n        } else if (this.props.variant && this.props.variant == \"error\") {\n            duration = 15000;\n        }\n\n        return (\n            <div>\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    }}\n                    open={this.props.open}\n                    autoHideDuration={duration}\n                    onClose={this.handleClose}\n                >\n                    <SnackbarContentWrapper\n                        onClose={this.handleClose}\n                        variant={this.props.variant ? this.props.variant : \"success\"}\n                        message={this.props.message}\n                    />\n                </Snackbar>\n            </div>\n        );\n    }\n}\n\nAlertSnackbars.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles2)(AlertSnackbars);","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default class ReactConfirmAlert extends React.Component {\n    static propTypes = {\n        title: PropTypes.string,\n        message: PropTypes.string,\n        buttons: PropTypes.array.isRequired,\n        willUnmount: PropTypes.func\n    }\n\n    static defaultProps = {\n        buttons: [\n            {\n                label: 'Cancel',\n                onClick: () => null\n            },\n            {\n                label: 'Confirm',\n                onClick: () => null\n            }\n        ],\n        willUnmount: () => null\n    }\n\n    handleClickButton = button => {\n        if (button.onClick) {\n            button.onClick();\n        }\n        this.close();\n    }\n\n    close = () => {\n        removeElementReconfirm();\n    }\n\n    keyboardClose = event => {\n        if (event.keyCode === 27) {\n            this.close()\n        }\n    }\n\n    componentDidMount = () => {\n        document.addEventListener('keydown', this.keyboardClose, false)\n    }\n\n    componentWillUnmount = () => {\n        document.removeEventListener('keydown', this.keyboardClose, false)\n        this.props.willUnmount()\n    }\n\n    render() {\n        const { title, message, buttons } = this.props\n\n        return (\n            <Dialog\n                open={true}\n                onClose={this.close}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                {title && <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>}\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {message}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    {buttons.map((button, i) => (\n                        <Button\n                            key={i}\n                            onClick={() => this.handleClickButton(button)}\n                        >\n                            {button.label}\n                        </Button>\n                    ))}\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\n\nfunction createElementReconfirm(properties) {\n    let divTarget = document.getElementById('react-confirm-alert')\n    if (divTarget) {\n        // Rerender - the mounted ReactConfirmAlert\n        render(<ReactConfirmAlert {...properties} />, divTarget)\n    } else {\n        // Mount the ReactConfirmAlert component\n        document.body.children[0].classList.add('react-confirm-alert-blur')\n        divTarget = document.createElement('div')\n        divTarget.id = 'react-confirm-alert'\n        document.body.appendChild(divTarget)\n        render(<ReactConfirmAlert {...properties} />, divTarget)\n    }\n}\n\nfunction removeElementReconfirm() {\n    const target = document.getElementById('react-confirm-alert')\n    unmountComponentAtNode(target)\n    target.parentNode.removeChild(target)\n}\n\nexport function confirmAlert(properties) {\n    createElementReconfirm(properties)\n}","const styles = theme => ({\r\n    sectionBlockHeader: {\r\n        margin: `${theme.spacing.unit * 3}px 0px`,\r\n    },\r\n    sectionBlockBody: {\r\n        margin: `${theme.spacing.unit * 2}px 0px`,\r\n    },\r\n    saveSection: {\r\n        margin: `${theme.spacing.unit * 6}px 0px 0px`,\r\n    },\r\n    fab: {\r\n        margin: theme.spacing.unit,\r\n    },\r\n    uploadButton: {\r\n        margin: theme.spacing.unit,\r\n    },\r\n    rightButtonIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n    appBar: {\r\n        position: 'relative',\r\n        minWidth: 550\r\n    },\r\n    flex: {\r\n        flex: 1,\r\n    },\r\n    emptyLine: {\r\n        fontSize: 14,\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react'\r\n\r\n/**\r\n * A custom Form component that handles form validation errors.\r\n * It executes the form's checkValidity\r\n **/\r\nclass ValidatorForm extends React.Component {\r\n    state = {\r\n        isValidated: false\r\n    };\r\n\r\n    /**\r\n     * Them main function that validates the form and fills in the error messages.\r\n     * @returns bool Returns a boolean showing if the form is valid for submission or not.\r\n     **/\r\n    validate = () => {\r\n        //this.formEl is a reference in the component to the form DOM element.\r\n        const formEl = this.formEl;\r\n        const formLength = formEl.length;\r\n\r\n        //The form is valid, so we clear all the error messages\r\n        // for (let i = 0; i < formLength; i++) {\r\n        //     const elem = formEl[i];\r\n        //     console.log(elem.name, elem.value);\r\n        // }\r\n\r\n        /*\r\n        * The checkValidity() method on a form runs the \r\n        * html5 form validation of its elements and returns the result as a boolean.\r\n        * It returns 'false' if at least one of the form elements does not qualify,\r\n        * and 'true', if all form elements are filled with valid values.\r\n        */\r\n        if (formEl.checkValidity() === false) {\r\n            let hasCustomErrors = false;\r\n            for (let i = 0; i < formLength; i++) {\r\n                //the i-th child of the form corresponds to the forms i-th input element\r\n                const elem = formEl[i];\r\n\r\n                /*\r\n                * errorLabel placed next to an element is the container we want to use \r\n                * for validation error message for that element\r\n                */\r\n                let errorLabel;\r\n\r\n                /*\r\n                * A form element contains also any buttuns contained in the form.\r\n                * There is no need to validate a button, so, we'll skip that nodes.\r\n                */\r\n\r\n                if (elem.parentNode.parentNode.getAttribute(\"required\") != null) {\r\n                    errorLabel = elem.parentNode.parentNode.parentNode.querySelector(\".invalid-feedback\");\r\n                    if (elem.value == null || elem.value == undefined || elem.value.length == 0) {\r\n                        errorLabel.textContent = \"Required\";\r\n                        hasCustomErrors = true;\r\n                    } else {\r\n                        errorLabel.textContent = \"\";\r\n                    }\r\n                } else {\r\n                    if (elem.autocomplete === 'off' && elem.nodeName.toLowerCase() !== \"button\") {\r\n                        errorLabel = elem.parentNode.parentNode.parentNode.parentNode.querySelector(\".invalid-feedback\");\r\n                    } else {\r\n                        errorLabel = elem.parentNode.parentNode.parentNode.querySelector(\".invalid-feedback\");\r\n                    }\r\n\r\n                    if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n\r\n                        /*\r\n                        * Each note in html5 form has a validity property. \r\n                        * It contains the validation state of that element.\r\n                        * The elem.validity.valid property indicates whether the element qualifies its validation rules or no.\r\n                        * If it does not qualify, the elem.validationMessage property will contain the localized validation error message.\r\n                        * We will show that message in our error container if the element is invalid, and clear the previous message, if it is valid.\r\n                        */\r\n\r\n                        if (!elem.validity.valid) {\r\n                            errorLabel.textContent = elem.validationMessage;\r\n                        } else {\r\n                            errorLabel.textContent = \"\";\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Return 'false', as the formEl.checkValidity() method said there are some invalid form inputs.\r\n            return false;\r\n        } else {\r\n            let hasCustomErrors = false;\r\n            //The form is valid, so we clear all the error messages\r\n            for (let i = 0; i < formLength; i++) {\r\n                const elem = formEl[i];\r\n\r\n                if (elem.parentNode.parentNode.getAttribute(\"required\") != null) {\r\n                    const errorLabel = elem.parentNode.parentNode.parentNode.querySelector(\".invalid-feedback\");\r\n                    if (elem.value == null || elem.value == undefined || elem.value.length == 0) {\r\n                        errorLabel.textContent = \"Required\";\r\n                        hasCustomErrors = true;\r\n                    } else {\r\n                        errorLabel.textContent = \"\";\r\n                    }\r\n                } else {\r\n                    const errorLabel = elem.parentNode.parentNode.parentNode.querySelector(\".invalid-feedback\");\r\n                    if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n                        errorLabel.textContent = \"\";\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Return 'true', as the form is valid for submission\r\n            return !hasCustomErrors;\r\n        }\r\n    };\r\n\r\n    /**\r\n    * This is the method that is called on form submit.\r\n    * It stops the default form submission process and proceeds with custom validation.\r\n    **/\r\n    submitHandler = event => {\r\n        event.preventDefault();\r\n\r\n        //If the call of the validate method was successful, we can proceed with form submission. Otherwise we do nothing.\r\n        if (this.validate()) {\r\n            this.props.onSubmit();\r\n        }\r\n\r\n        this.setState({ isValidated: true });\r\n    };\r\n\r\n    /**\r\n    * Render the component as a regular form element with appended children from props.\r\n    **/\r\n    render() {\r\n        // console.log(this.props);\r\n\r\n        //Add bootstrap's 'was-validated' class to the forms classes to support its styling\r\n        let classNames = [];\r\n\r\n        if (this.state.isValidated) {\r\n            classNames.push(\"was-validated\");\r\n        }\r\n\r\n        //The form will have a refference in the component and a submit handler set to the component's submitHandler\r\n        return (\r\n            <form\r\n                {...this.props}\r\n                className={classNames}\r\n                noValidate\r\n                ref={form => (this.formEl = form)}\r\n                onSubmit={this.submitHandler}\r\n            >\r\n                {this.props.children}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ValidatorForm;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from '../styles.js';\nimport ValidatorForm from \"../../../../elements/ValidationForm/index\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport LoadingIndicator from \"../../../../elements/LoadingIndicator/index\";\nimport API from \"../../../../../services/API\";\n\nimport {\n    FormControl,\n    Select,\n    Menu,\n    MenuItem,\n    InputLabel,\n    Grid, Button, TextField,\n    FormControlLabel,\n    FormGroup,\n    Switch,\n    Fab,\n    Divider,\n    Slide,\n    Typography\n} from '@material-ui/core';\n\nconst shortid = require('shortid');\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nclass SolutionEditor extends React.Component {\n    VOLUME_MAPPER = {}\n\n    /**\n     * constructor\n     * @param {*} props \n     */\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            _name: \"\",\n            _description: \"\",\n            _solutionParameters: [],\n\n            availableContainersAnchorEl: null,\n\n            loading: false,\n            loadingMessage: null\n        }\n    }\n\n    /**\n     * componentDidMount\n     */\n    componentDidMount() {\n        let _solutionParameters = [];\n        if (this.props.solution) {\n            // Need a deep copy for clones here\n            _solutionParameters = JSON.parse(JSON.stringify(this.props.solutionParameters.filter(sp => sp.solutionId == this.props.solution.id)));\n\n            this.setState({\n                _name: this.props.solution ? this.props.solution.name : \"\",\n                _description: this.props.solution ? this.props.solution.description : \"\",\n                _solutionParameters: _solutionParameters\n            });\n\n            // Map existing container volume short IDs\n            _solutionParameters.forEach(sp => {\n                this._prepareContainerStates({}, sp);\n            });\n        } else {\n            this.setState({\n                _name: this.props.solution ? this.props.solution.name : \"\",\n                _description: this.props.solution ? this.props.solution.description : \"\",\n                _solutionParameters: _solutionParameters\n            });\n        }\n    }\n\n    /**\n     * saveSolution\n     */\n    saveSolution = () => {\n        (async () => {\n            try {\n                let isValide = this.formEl.validate();\n                if (isValide) {\n                    if (this.props.solutions.find(o => (!this.props.solution || o.id != this.props.solution.id) && o.name.toLowerCase() == this.state._name.toLowerCase())) {\n                        return this.props.notify(\"Conflict: Solution name already in use.\", \"error\");\n                    }\n\n                    // Validate nginx configs\n                    let nginxErrors = null;\n                    for (let i = 0; i < this.state._solutionParameters.length; i++) {\n                        let nginxConfigIds = this.props.nginxDockerLinks.filter(ndx => ndx.containerId == this.state._solutionParameters[i].containerId).map(ndx => ndx.nginxConfigId);\n                        for (let y = 0; y < nginxConfigIds.length; y++) {\n                            if (this.state[\"proxy_asSubdomain_\" + nginxConfigIds[y]] && this.state[\"proxy_subdomain_\" + nginxConfigIds[y]].length == 0) {\n                                nginxErrors = \"Please set the missing subdomains for the Nginx domain configs\";\n                            }\n                        }\n                    }\n                    if (nginxErrors) {\n                        return this.props.notify(nginxErrors, \"error\");\n                    }\n\n                    // All good, save now\n                    this.setState({\n                        loading: true,\n                        loadingMessage: \"Saving ...\"\n                    });\n\n                    let dbSolution = null;\n                    // If existing solution\n                    if (this.props.solution) {\n                        // First, look up solution in DB\n                        dbSolution = await API.endpoints.Solutions.getOne({\n                            \"where\": { \"id\": this.props.solution.id }\n                        });\n                        // Update object with name and alias\n                        dbSolution.name = this.state._name;\n                        dbSolution.description = this.state._description;\n                        dbSolution.alias = this.props.alias;\n\n                        await API.endpoints.Solutions.update(dbSolution);\n                    }\n                    // New solution\n                    else {\n                        // First create solution in DB\n                        dbSolution = await API.endpoints.Solutions.create({\n                            name: this.state._name,\n                            description: this.state._description,\n                            alias: this.props.alias,\n                        });\n                    }\n\n                    // Check if we need to delete a solution parameter that no longer exists (only possible for existing solutions)\n                    if (this.props.solution) {\n                        for (let y = 0; y < this.props.solutionParameters.length; y++) {\n                            if (this.props.solutionParameters[y].solutionId == this.props.solution.id) {\n                                // If solution parameter no longer exists, delete it from db\n                                if (!this.state._solutionParameters.find(_sp => _sp.containerId == this.props.solutionParameters[y].containerId)) {\n                                    await API.endpoints.SolutionParameters.deleteById(this.props.solutionParameters[y].id);\n                                }\n                            }\n                        }\n                    }\n\n                    // Now create / update solution parameters\n                    for (let i = 0; i < this.state._solutionParameters.length; i++) {\n                        if (this.state._solutionParameters[i].id) {\n                            await API.endpoints.SolutionParameters.update(this.state._solutionParameters[i]);\n                        } else {\n                            await API.endpoints.SolutionParameters.create({\n                                solutionId: dbSolution.id,\n                                containerId: this.state._solutionParameters[i].containerId,\n                                volumes: this.state._solutionParameters[i].volumes\n                            });\n                        }\n\n                        // Now update container volume mappings\n                        if (this.state._solutionParameters[i].volumes.length > 0) {\n                            let container = this.props.containers.find(c => c.id == this.state._solutionParameters[i].containerId);\n\n                            this.state._solutionParameters[i].volumes.forEach((spVolumeObj) => {\n                                let pathMapKey = this.VOLUME_MAPPER[this.state._solutionParameters[i].containerId][spVolumeObj.path];\n                                container.volumes = container.volumes.map(vObject => {\n                                    if (vObject.containerPath == spVolumeObj.path) {\n                                        vObject.hostPath = this.state[pathMapKey];\n                                    }\n                                    return vObject;\n                                });\n                            });\n\n                            await API.endpoints.Containers.update(container);\n\n                            this.props.dispatch({\n                                type: \"UPDATE_CONTAINER\",\n                                data: container\n                            });\n                        }\n\n                        // update nginx configs\n                        let nginxConfigIds = this.props.nginxDockerLinks.filter(ndx => ndx.containerId == this.state._solutionParameters[i].containerId).map(ndx => ndx.nginxConfigId);\n                        for (let y = 0; y < nginxConfigIds.length; y++) {\n                            let nginxConfigObj = this.props.nginxConfigs.find(nc => nc.id == nginxConfigIds[y]);\n                            if (this.state[\"proxy_uri_\" + nginxConfigIds[y]] != undefined) {\n                                nginxConfigObj.uriPath = this.state[\"proxy_uri_\" + nginxConfigIds[y]];\n                            }\n                            if (this.state[\"proxy_subdomain_\" + nginxConfigIds[y]] != undefined) {\n                                nginxConfigObj.subdomain = this.state[\"proxy_subdomain_\" + nginxConfigIds[y]];\n                            }\n                            if (this.state[\"proxy_domain_\" + nginxConfigIds[y]] != undefined) {\n                                nginxConfigObj.domainId = this.state[\"proxy_domain_\" + nginxConfigIds[y]];\n                            }\n                            if (this.state[\"proxy_asSubdomain_\" + nginxConfigIds[y]] != undefined) {\n                                nginxConfigObj.asSubdomain = this.state[\"proxy_asSubdomain_\" + nginxConfigIds[y]];\n                            }\n\n                            await API.endpoints.NginxConfigs.update(nginxConfigObj);\n                        }\n                    }\n\n                    let resultSolutions = await API.endpoints.Solutions.getAll();\n                    this.props.dispatch({\n                        type: \"SET_SOLUTIONS\",\n                        data: resultSolutions\n                    });\n\n                    let resultSolutionParameters = await API.endpoints.SolutionParameters.getAll();\n                    this.props.dispatch({\n                        type: \"SET_SOLUTION_PARAMETERS\",\n                        data: resultSolutionParameters\n                    });\n\n                    let resultNginxConfigs = await API.endpoints.NginxConfigs.getAll();\n                    this.props.dispatch({\n                        type: \"SET_NGINX_CONFIGS\",\n                        data: resultNginxConfigs\n                    });\n\n                    this.setState({\n                        loading: false,\n                        loadingMessage: null\n                    });\n\n                    this.props.notify(\"Solution saved\");\n\n                    this.props.solutionSaved(dbSolution.id);\n                }\n            } catch (err) {\n                console.log(err);\n                this.setState({\n                    loading: false,\n                    loadingMessage: null\n                });\n\n                this.props.notify(\"An error occured\", \"error\");\n            }\n        })();\n    }\n\n    /**\n     * onLookupContainer\n     */\n    onLookupContainer(event) {\n        this.setState({ availableContainersAnchorEl: event.currentTarget });\n    }\n\n    /**\n     * onLookupVolume\n     */\n    onLookupVolume(cIndex, event) {\n        let stateObject = {};\n        stateObject['availableVolumesAnchorEl_' + cIndex] = event.currentTarget;\n        this.setState(stateObject);\n    }\n\n    /**\n     * onRemoveContainer\n     */\n    onRemoveContainer(containerId) {\n        let stateReset = {\n            _solutionParameters: this.state._solutionParameters.filter(sp => sp.containerId != containerId)\n        };\n        Object.keys(this.VOLUME_MAPPER[containerId]).forEach((key) => {\n            stateReset[this.VOLUME_MAPPER[containerId][key]] = null;\n        });\n        delete this.VOLUME_MAPPER[containerId];\n\n        Object.keys(this.state).forEach((stateKey) => {\n            if (stateKey.indexOf('portContainer_' + containerId + '_') == 0) {\n                stateReset[stateKey] = null;\n            }\n        });\n\n        this.setState(stateReset);\n    }\n\n    /**\n     * onRemoveVolume\n     * @param {*} containerId \n     * @param {*} volumeKey \n     */\n    onRemoveVolume(containerId, volumeKey) {\n        let stateReset = {};\n        Object.keys(this.VOLUME_MAPPER[containerId]).forEach((key) => {\n            if (this.VOLUME_MAPPER[containerId][key] == volumeKey) {\n                this.state._solutionParameters = this.state._solutionParameters.map(sp => {\n\n                    if (sp.containerId == containerId && sp.volumes.find(_v => _v.path == key) != null) {\n                        // Remove volume from solution parameter object\n                        sp.volumes = sp.volumes.filter(_v => _v.path != key);\n\n                        // Reset volume host path in case volume is added again later\n                        let container = this.props.containers.find(c => c.id == containerId);\n                        container.volumes.forEach((volumeObj) => {\n                            if (volumeObj.containerPath == key) {\n                                stateReset[this.VOLUME_MAPPER[containerId][key]] = volumeObj.hostPath;\n                            }\n                        });\n                    }\n                    return sp;\n                });\n            }\n        });\n\n        stateReset._solutionParameters = this.state._solutionParameters;\n        this.setState(stateReset);\n    }\n\n    /**\n     * handleAvailableContainerMenuClose\n     */\n    handleAvailableContainerMenuClose(target) {\n        // If selected target container\n        if (target.cid) {\n            // Create memory solution paramleter\n            this.state._solutionParameters.push({\n                solutionId: this.props.solution ? this.props.solution.id : -1,\n                containerId: target.cid,\n                volumes: []\n            });\n\n            let stateData = {\n                availableContainersAnchorEl: null,\n                _solutionParameters: this.state._solutionParameters\n            };\n\n            this._prepareContainerStates(stateData, this.state._solutionParameters.find(_sp => _sp.containerId == target.cid));\n        } else {\n            this.setState({ availableContainersAnchorEl: null });\n        }\n    }\n\n    /**\n     * _prepareContainerStates\n     */\n    _prepareContainerStates(stateData, sp) {\n        // Prepare existing volume objects for state management\n        let containerVolumeMapObject = {};\n        // console.log(sp.volumes);\n        this.props.containers.find(c => c.id == sp.containerId).volumes.forEach(volume => {\n            let vId = shortid.generate();\n\n            containerVolumeMapObject[volume.containerPath] = vId;\n            stateData[vId] = volume.hostPath;\n        });\n        this.VOLUME_MAPPER[sp.containerId] = containerVolumeMapObject;\n\n        // Prepare existing nginx config objects for state management\n        this.props.nginxDockerLinks.filter(ndl => ndl.containerId == sp.containerId).map(ndl => this.props.nginxConfigs.find(nc => nc.id == ndl.nginxConfigId)).forEach(nc => {\n            stateData[\"proxy_uri_\" + nc.id] = nc.uriPath;\n            stateData[\"proxy_subdomain_\" + nc.id] = nc.subdomain;\n            stateData[\"proxy_domain_\" + nc.id] = nc.domainId;\n            stateData[\"proxy_asSubdomain_\" + nc.id] = nc.asSubdomain;\n        });\n\n        // Prepare option menu ref state objects if not already done\n        this.state._solutionParameters.forEach((_sp, i) => {\n            this.state['availableVolumesAnchorEl_' + i] = null;\n        });\n\n        this.setState(stateData);\n    }\n\n    /**\n     * handleAvailableVolumeMenuClose\n     */\n    handleAvailableVolumeMenuClose(cIndex, target) {\n        let stateObject = {};\n        stateObject['availableVolumesAnchorEl_' + cIndex] = null;\n\n        if (target.volume) {\n            this.state._solutionParameters = this.state._solutionParameters.map(sp => {\n                if (sp.containerId == target.containerId) {\n                    sp.volumes.push({\n                        \"path\": target.volume,\n                        // \"git\": null,\n                        // \"cmd\": null\n                    });\n                }\n                return sp;\n            });\n            stateObject._solutionParameters = this.state._solutionParameters;\n        }\n        this.setState(stateObject);\n    }\n\n    /**\n     * getDialogFormBlockUriPath\n     */\n    getDialogFormBlockUriPath(container, nxc) {\n        return <Grid item xs={3} style={{ textAlign: 'left' }}>\n            <div className={\"form-group\"}>\n                <TextField\n                    name={\"proxy_uri_\" + nxc.id}\n                    className={\"form-control\"}\n                    value={this.state[\"proxy_uri_\" + nxc.id]}\n                    onChange={(e) => {\n                        let stateUpd = {};\n                        stateUpd[\"proxy_uri_\" + nxc.id] = e.target.value;\n                        this.setState(stateUpd);\n                    }}\n                    label=\"URI path\"\n                    type=\"text\" />\n                <div className=\"invalid-feedback\"></div>\n            </div>\n        </Grid>;\n    }\n\n    /**\n     * getDialogFormBlockIsSubdomain\n     */\n    getDialogFormBlockIsSubdomain(container, nxc) {\n        return <Grid item xs={3} style={{ textAlign: 'left' }}>\n            <FormGroup row>\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={this.state[\"proxy_asSubdomain_\" + nxc.id]}\n                            onChange={(event) => {\n                                let stateUpd = {};\n                                stateUpd[\"proxy_asSubdomain_\" + nxc.id] = event.target.checked;\n                                stateUpd[\"proxy_subdomain_\" + nxc.id] = \"\";\n                                this.setState(stateUpd);\n                            }}\n                        />\n                    }\n                    label=\"Subdomain\"\n                />\n            </FormGroup>\n        </Grid>;\n    }\n\n    /**\n     * getDialogFormBlockSubdomain\n     */\n    getDialogFormBlockSubdomain(container, nxc) {\n        return <Grid item xs={3} style={{ textAlign: 'left' }}>\n            {this.state[\"proxy_asSubdomain_\" + nxc.id] && <div className={\"form-group\"}>\n                <TextField\n                    name={\"proxy_subdomain_\" + nxc.id}\n                    className={\"form-control\"}\n                    value={this.state[\"proxy_subdomain_\" + nxc.id]}\n                    onChange={(e) => {\n                        let stateUpd = {};\n                        stateUpd[\"proxy_subdomain_\" + nxc.id] = e.target.value;\n                        this.setState(stateUpd);\n                    }}\n                    label=\"Subdomain\"\n                    type=\"text\"\n                    fullWidth />\n                <div className=\"invalid-feedback\"></div>\n            </div>}\n        </Grid>;\n    }\n\n    /**\n     * getDialogFormBlockDomain\n     */\n    getDialogFormBlockDomain(container, nxc) {\n        return <Grid item xs={3} style={{ textAlign: 'left' }}>\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\n                <FormControl fullWidth>\n                    <InputLabel htmlFor={\"proxy_domain_\" + nxc.id}>Domain</InputLabel>\n                    <Select\n                        value={this.state[\"proxy_domain_\" + nxc.id] ? this.state[\"proxy_domain_\" + nxc.id] : \"\"}\n                        onChange={(event) => {\n                            this.setState({ [\"proxy_domain_\" + nxc.id]: event.target.value });\n                        }}\n                        inputProps={{\n                            name: \"proxy_domain_\" + nxc.id,\n                            id: \"proxy_domain_\" + nxc.id,\n                        }}\n                        fullWidth\n                    >\n                        <MenuItem value=\"\">\n                            <em>None</em>\n                        </MenuItem>\n\n                        {this.props.domains.map(domain => (\n                            <MenuItem key={\"proxy_domain_item_\" + container.id + \"_\" + nxc.id + \"_\" + domain.id} value={domain.id}>{domain.value}</MenuItem>\n                        ))}\n                    </Select>\n                    <div className=\"invalid-feedback\"></div>\n                </FormControl>\n            </div>\n        </Grid>;\n    }\n\n    /**\n     * getSolutionContainerBlock\n     */\n    getSolutionContainerBlock() {\n        const { classes } = this.props;\n\n        let containerBlocks = this.state._solutionParameters.map((solutionParameter, cIndex) => {\n            let container = this.props.containers.find(c => c.id == solutionParameter.containerId);\n            let availableVolumes = container.volumes.filter((volume) => {\n                return solutionParameter.volumes.find(_v => _v.path == volume.containerPath) == null;\n            }).map((volume) => {\n                return volume.containerPath;\n            });\n            let nginxConfigs = this.props.nginxDockerLinks.filter(ndl => ndl.containerId == container.id).map(ndl => this.props.nginxConfigs.find(nxc => nxc.id == ndl.nginxConfigId));\n\n            return <div key={'scont_' + solutionParameter.containerId}>\n                <div style={{ marginTop: cIndex == 0 ? 50 : 100 }}>\n                    <Grid container alignItems=\"center\">\n                        <Grid item xs>\n                            <Typography gutterBottom variant=\"headline\" style={{ color: 'rgb(224, 113, 80)' }}>\n                                {container.name}\n                            </Typography>\n                        </Grid>\n                        <Grid item>\n                            <Button color=\"secondary\" fullWidth onClick={this.onRemoveContainer.bind(this, container.id)}>\n                                Remove container\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </div>\n\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0 }} />\n\n                <div style={{ paddingLeft: 30, paddingTop: 20 }}>\n\n                    {/* ---------------- Container volumes - header ---------------- */}\n                    <Grid container alignItems=\"center\">\n                        <Grid item xs>\n                            <Typography gutterBottom variant=\"h6\">\n                                Container volumes setup\n                            </Typography>\n                        </Grid>\n                        <Grid item>\n                            <Button color=\"primary\" fullWidth disabled={availableVolumes.length == 0} onClick={this.onLookupVolume.bind(this, cIndex)}>\n                                Configure\n                            </Button>\n                            <Menu\n                                id={\"simple-menu-volume-\" + cIndex}\n                                anchorEl={this.state['availableVolumesAnchorEl_' + cIndex]}\n                                open={Boolean(this.state['availableVolumesAnchorEl_' + cIndex])}\n                                onClose={this.handleAvailableVolumeMenuClose.bind(this, cIndex)}\n                            >\n                                {availableVolumes.map((v, i) => <MenuItem key={'vol_mi_' + i} onClick={this.handleAvailableVolumeMenuClose.bind(this, cIndex, { \"volume\": v, \"containerId\": container.id })}>Container volume : <i>{v}</i></MenuItem>)}\n                            </Menu>\n                        </Grid>\n                    </Grid>\n\n                    {/* Container volumes - list */}\n                    <div>\n                        {/* Volumes items */}\n                        {solutionParameter.volumes.map((volumeObj, i) => {\n                            let vs = this.props.containers.find(c => c.id == solutionParameter.containerId).volumes.find(_v => _v.containerPath == volumeObj.path);\n                            return <div key={'vol_line_' + this.VOLUME_MAPPER[container.id][volumeObj.path]}>\n                                <Grid container alignItems=\"center\" style={{ marginTop: 10 }}>\n                                    <Grid item xs>\n                                        <Grid container alignItems=\"center\" style={{ marginTop: 20 }}>\n                                            <Grid item xs>\n                                                <div className={\"form-group\"} style={{ paddingRight: 20 }}>\n                                                    <TextField\n                                                        name={this.VOLUME_MAPPER[container.id][volumeObj.path]}\n                                                        className={\"form-control\"}\n                                                        value={this.state[this.VOLUME_MAPPER[container.id][volumeObj.path]]}\n                                                        onChange={(e) => { this.setState({ [this.VOLUME_MAPPER[container.id][volumeObj.path]]: e.target.value }) }}\n                                                        label=\"Host path\"\n                                                        type=\"text\"\n                                                        fullWidth\n                                                        required />\n                                                    <div className=\"invalid-feedback\"></div>\n                                                </div>\n                                            </Grid>\n                                            <Grid item xs>\n                                                <Typography gutterBottom variant=\"body1\" style={{ paddingTop: 15 }}>\n                                                    Container path:\n                                            </Typography>\n                                                <Typography gutterBottom color=\"textSecondary\">\n                                                    {volumeObj.path}\n                                                </Typography>\n                                            </Grid>\n                                            {vs && vs.volumeDescription && <Grid item xs={12}>\n                                                <Typography gutterBottom style={{ color: \"#505050\", marginLeft: -5, paddingLeft: 10, paddingRight: 10, paddingTop: 5, paddingBottom: 5, backgroundColor: \"#cccccc\" }}>\n                                                    {vs.volumeDescription}\n                                                </Typography>\n                                            </Grid>}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid item>\n                                        <Fab size=\"small\" className={classes.fab} onClick={this.onRemoveVolume.bind(this, container.id, this.VOLUME_MAPPER[container.id][volumeObj.path])}>\n                                            <DeleteIcon />\n                                        </Fab>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        })}\n                        {solutionParameter.volumes.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyLine}>-none-</Typography>}\n                    </div>\n\n                    {/* ---------------- Container nginx - header ---------------- */}\n                    {nginxConfigs.length > 0 && <div>\n                        <Grid container alignItems=\"center\">\n                            <Grid item xs>\n                                <Typography gutterBottom variant=\"h6\" style={{ marginTop: 30 }}>\n                                    Nginx proxy configurations\n                            </Typography>\n                            </Grid>\n                        </Grid>\n\n                        {/* Container nginx - list */}\n                        <div>\n                            {/* HTTP Proxy details */}\n                            {nginxConfigs.map((nxc, z) => {\n                                return <Grid key={'nginx_block_' + container.id + '_' + nxc.id} container alignItems=\"center\" style={{\n                                    marginBottom: (z + 1) == nginxConfigs.length ? 40 : 10,\n                                    marginLeft: -10,\n                                    padding: 10,\n                                    borderRadius: 5,\n                                    backgroundColor: '#eeeeee'\n                                }}>\n                                    <Grid item xs>\n                                        <Grid container spacing={16}>\n                                            <Grid item xs={12}>\n                                                <Typography gutterBottom color=\"textSecondary\" style={{ fontWeight: 'bold' }}>\n                                                    HTTP Proxy setup for container port: {nxc.port}\n                                                </Typography>\n                                            </Grid>\n                                            {this.getDialogFormBlockDomain(container, nxc)}\n                                            {this.getDialogFormBlockUriPath(container, nxc)}\n                                            {this.getDialogFormBlockIsSubdomain(container, nxc)}\n                                            {this.getDialogFormBlockSubdomain(container, nxc)}\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                            })}\n                        </div>\n                    </div>}\n                </div>\n            </div>;\n        });\n\n        return <div className={classes.sectionBlockBody}>{containerBlocks}</div>;\n    }\n\n    /**\n     * getSolutionContainerEditor\n     */\n    getSolutionContainerEditor() {\n        const { classes } = this.props;\n        const { availableContainersAnchorEl } = this.state;\n        let availableContainers = this.props.containers.filter(c => this.state._solutionParameters.find(sp => sp.containerId == c.id) == null);\n\n        return (\n            <div>\n                {/* Container Title Header */}\n                <div className={classes.sectionBlockHeader}>\n                    <Grid container alignItems=\"center\">\n                        <Grid item xs>\n                            <Typography gutterBottom variant=\"h4\">\n                                Containers\n                            </Typography>\n                        </Grid>\n                        <Grid item>\n                            <Button variant=\"outlined\" fullWidth disabled={availableContainers.length == 0} onClick={this.onLookupContainer.bind(this)}>\n                                Lookup container\n                            </Button>\n                            <Menu\n                                id=\"simple-menu\"\n                                anchorEl={availableContainersAnchorEl}\n                                open={Boolean(availableContainersAnchorEl)}\n                                onClose={this.handleAvailableContainerMenuClose.bind(this)}\n                            >\n                                {availableContainers.map(c => <MenuItem key={'cont_mi_' + c.id} onClick={this.handleAvailableContainerMenuClose.bind(this, { \"cid\": c.id })}>{c.name}</MenuItem>)}\n                            </Menu>\n                        </Grid>\n                    </Grid>\n                    <Typography color=\"textSecondary\">\n                        The docker containers that are part of the solution. Some container elements can be exposed here for user configuration as required.\n                    </Typography>\n                </div>\n\n                {/* Container block iteration */}\n                {this.getSolutionContainerBlock()}\n            </div>\n        );\n    }\n\n    /**\n     * render\n     */\n    render() {\n        const { classes } = this.props;\n\n        let nameSpan = 10;\n        if (this.props.alias) {\n            nameSpan = nameSpan - 2;\n        }\n        if (this.props.solution) {\n            nameSpan = nameSpan - 4;\n        }\n\n        return (\n            <div>\n                <ValidatorForm ref={form => (this.formEl = form)}>\n                    <Grid container spacing={16} style={{ padding: 20 }}>\n\n                        {/* Solution global setting */}\n                        <Grid item xs={nameSpan} style={{ textAlign: 'left' }}>\n                            <div className={\"form-group\"}>\n                                <TextField\n                                    name=\"name\"\n                                    className={\"form-control\"}\n                                    value={this.state._name}\n                                    onChange={(e) => { this.setState({ _name: e.target.value }) }}\n                                    label=\"Solution name\"\n                                    type=\"text\"\n                                    fullWidth\n                                    required />\n                                <div className=\"invalid-feedback\"></div>\n                            </div>\n                        </Grid>\n\n                        {this.props.alias && <Grid item xs={2} style={{ textAlign: 'right' }}>\n                            <Typography gutterBottom variant=\"body1\" style={{ paddingTop: 5 }}>\n                                Solution alias\n                            </Typography>\n                            <Typography gutterBottom color=\"textSecondary\">\n                                {this.props.alias}\n                            </Typography>\n                        </Grid>}\n\n                        {this.props.solution && <Grid item xs={2} style={{ textAlign: 'right' }}>\n                            <Button variant=\"outlined\" color=\"secondary\" fullWidth onClick={this.props.onDeleteSolution} style={{ marginTop: 8 }}>\n                                Delete\n                            </Button>\n                        </Grid>}\n\n                        <Grid item xs={2} style={{ textAlign: 'right' }}>\n                            <Button variant=\"outlined\" color=\"primary\" fullWidth onClick={this.saveSolution} style={{ marginTop: 8 }}>\n                                Save\n                            </Button>\n                        </Grid>\n\n                        {this.props.solution && <Grid item xs={2} style={{ textAlign: 'right' }}>\n                            <Button variant=\"outlined\" color=\"primary\" fullWidth onClick={this.props.exportSolution} style={{ marginTop: 8 }}>\n                                Export\n                            </Button>\n                        </Grid>}\n\n                        <Grid item xs={12} style={{ textAlign: 'left' }}>\n                            <div className={\"form-group\"}>\n                                <TextField\n                                    name=\"description\"\n                                    className={\"form-control\"}\n                                    value={this.state._description}\n                                    onChange={(e) => { this.setState({ _description: e.target.value }) }}\n                                    label=\"Solution description\"\n                                    type=\"text\"\n                                    multiline\n                                    fullWidth />\n                            </div>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            {this.getSolutionContainerEditor()}\n                        </Grid>\n                    </Grid>\n                </ValidatorForm>\n                <LoadingIndicator show={this.state.loading} message={this.state.loadingMessage} />\n            </div>\n        );\n    }\n}\n\n// The function takes data from the app current state,\n// and insert/links it into the props of our component.\n// This function makes Redux know that this component needs to be passed a piece of the state\nconst mapStateToProps = (state, props) => ({\n    domains: state.domains,\n    settings: state.settings,\n    containers: state.containers,\n    nginxConfigs: state.nginxConfigs,\n    solutions: state.solutions,\n    solutionParameters: state.solutionParameters,\n    nginxDockerLinks: state.nginxDockerLinks\n});\n\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\n\n//Connect everything\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SolutionEditor));","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom'\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from '../styles.js';\nimport API from \"../../../../../services/API\";\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Divider from '@material-ui/core/Divider';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\n\nimport {\n    Grid,\n    Button,\n    FormControlLabel,\n    Switch,\n    Typography,\n    Dialog,\n    DialogContent,\n    DialogContentText,\n    AppBar,\n    Toolbar\n} from '@material-ui/core';\n\nclass ExportWizardDialog extends React.Component {\n\n    /**\n     * constructor\n     * @param {*} props \n     */\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            solution: null,\n            solutionParameters: []\n        }\n    }\n\n    /**\n     * componentDidMount\n     */\n    componentDidMount() {\n        let stateObj = {\n            solution: this.props.solutions.find(s => s.id == this.props.solutionId)\n        };\n\n        stateObj.solutionParameters = this.props.solutionParameters.filter(sp => sp.solutionId == this.props.solutionId);\n        stateObj.solutionParameters.forEach(sp => {\n            // let container = this.props.containers.find(c => c.id == sp.containerId);\n            stateObj['public_di_hub_' + sp.containerId] = true;\n            stateObj['public_di_zip_' + sp.containerId] = null;\n        });\n\n        this.setState(stateObj);\n    }\n\n    /**\n     * openFileDialog\n     * @param {*} refName \n     */\n    openFileDialog(refName) {\n        var fileInputDom = ReactDOM.findDOMNode(this.refs[refName]);\n        fileInputDom.click()\n    }\n\n    /**\n     * handlePublicImageSwitchChange\n     */\n    handlePublicImageSwitchChange = cid => event => {\n        this.setState({\n            ['public_di_hub_' + cid]: event.target.checked,\n            ['public_di_zip_' + cid]: null\n        });\n    };\n\n    /**\n     * handleDockerfileZipSelected\n     * @param {*} cid\n     * @param {*} event \n     */\n    handleDockerfileZipSelected(cid, event) {\n        if (event.target.files && event.target.files.length == 1) {\n            if (event.target.files[0].type != \"application/zip\") {\n                return this.props.notify(\"Invalide file format, expected a ZIP file\", \"error\");\n            }\n            this.setState({ ['public_di_zip_' + cid]: event.target.files[0] });\n        }\n    }\n\n    /**\n     * exportNow\n     */\n    async exportNow() {\n        // Prepare form data\n        const data = new FormData();\n        for (let key in this.state) {\n            if (key.indexOf('public_di_zip_') == 0) {\n                data.append(key, this.state[key]);\n            }\n        }\n\n        try {\n            // Upload\n            let response = await API.endpoints.Solutions.solutionExport(this.props.solutionId, data);\n\n            // Get return solution blob file\n            let blob = await response.blob();\n\n            // Let user download it\n            var url = window.URL.createObjectURL(blob);\n            var a = document.createElement('a');\n            a.href = url;\n            a.download = \"solution.zip\";\n            document.body.appendChild(a);\n            a.click();\n            a.remove();\n        } catch (err) {\n            this.props.notify(err.message, \"error\");\n        }\n    }\n\n    /**\n     * render\n     */\n    render() {\n        const { classes } = this.props;\n\n        let allValide = true;\n        this.state.solutionParameters.forEach(sp => {\n            if (!this.state['public_di_hub_' + sp.containerId] && !this.state['public_di_zip_' + sp.containerId]) {\n                allValide = false;\n            }\n        });\n\n        return (\n            <Dialog\n                open={true}\n                onClose={this.props.onDialogClose}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton color=\"inherit\" onClick={this.props.onDialogClose} aria-label=\"Close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\n                            Export solution\n                        </Typography>\n                        {allValide && <Button color=\"secondary\" onClick={this.exportNow.bind(this)}>\n                            Export now\n                        </Button>\n                        }\n                    </Toolbar>\n                </AppBar>\n\n                <DialogContent>\n                    <DialogContentText style={{ marginTop: 20 }}>\n                        If one or more containers are not available on the public Docker Hub, therefore requiering a Docker image to be build locally on the target machine, then upload the required dockerfile and it's dependencies as a zip file for each docker container of your solution.\n                    </DialogContentText>\n\n                    {this.state.solutionParameters.map(sp => {\n                        let container = this.props.containers.find(c => c.id == sp.containerId);\n\n                        let image = this.props.dockerImages.find(i => i.id == container.dockerImageId);\n\n                        return <div key={'container_i_' + sp.id}>\n                            <Grid container spacing={16} style={{ padding: 20/*, height: 112*/ }}>\n                                <Grid item xs={this.state['public_di_hub_' + sp.containerId] ? 7 : 4} style={{ textAlign: 'left' }}>\n                                    <Typography variant=\"subtitle2\" gutterBottom style={{ marginTop: 17 }}>\n                                        {container.name}\n                                    </Typography>\n                                    <Typography variant=\"caption\" gutterBottom style={{ marginTop: 0 }}>\n                                        IMAGE => {image.name + (image.version && image.version.length > 0 ? \":\" + image.version : \"\")}\n                                    </Typography>\n                                </Grid>\n\n                                {!this.state['public_di_hub_' + sp.containerId] && <Grid item xs={3} style={{ textAlign: 'right' }}>\n                                    <input\n                                        accept=\"application/zip\"\n                                        style={{ display: 'none' }}\n                                        type=\"file\"\n                                        ref={'dockerfile_c_' + sp.containerId}\n                                        onChange={this.handleDockerfileZipSelected.bind(this, sp.containerId)}\n                                    />\n                                    <label htmlFor=\"raised-button-file\">\n                                        <Button variant=\"contained\" color={this.state['public_di_zip_' + sp.containerId] ? 'primary' : 'default'} className={classes.uploadButton} onClick={this.openFileDialog.bind(this, 'dockerfile_c_' + sp.containerId)}>\n                                            {this.state['public_di_zip_' + sp.containerId] ? 'SELECTED' : 'SELECT'}\n                                            <CloudUploadIcon className={classes.rightButtonIcon} />\n                                        </Button>\n                                    </label>\n                                </Grid>}\n\n                                <Grid item xs={5} style={{ textAlign: 'right' }}>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={this.state['public_di_hub_' + sp.containerId]}\n                                                onChange={this.handlePublicImageSwitchChange(sp.containerId)}\n                                                value={\"public_di_hub_\" + sp.containerId}\n                                                color=\"primary\"\n                                            />\n                                        }\n                                        label=\"On Docker HUB\"\n                                    /><br />\n                                </Grid>\n                                {/* {sp.volumes.map(v => {\n                                    let vs = container.volumes.find(_v => _v.containerPath == v.path);\n                                    // console.log(v.containerPath);\n                                    return <Grid container spacing={16}>\n                                        <Grid item xs={6}>\n                                            <Typography variant=\"subtitle1\">\n                                                {vs.containerPath}\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item xs={6} style={{ textAlign: 'right' }}>\n                                            <FormControlLabel\n                                                control={\n                                                    <Checkbox\n                                                        checked={true}\n                                                        style={{ padding: 0 }}\n                                                    // onChange={this.handleChange('checkedA')}\n                                                    />\n                                                }\n                                                label=\"Include content\"\n                                            />\n                                        </Grid>\n\n                                    </Grid>;\n                                })} */}\n\n                            </Grid>\n                            <Divider />\n                        </div>\n                    })}\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\n\n// The function takes data from the app current state,\n// and insert/links it into the props of our component.\n// This function makes Redux know that this component needs to be passed a piece of the state\nconst mapStateToProps = (state, props) => ({\n    domains: state.domains,\n    settings: state.settings,\n    containers: state.containers,\n    dockerImages: state.dockerImages,\n    nginxConfigs: state.nginxConfigs,\n    solutions: state.solutions,\n    solutionParameters: state.solutionParameters,\n    nginxDockerLinks: state.nginxDockerLinks\n});\n\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\n\n//Connect everything\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ExportWizardDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles.js';\r\nimport SharableView from '../../elements/SharableView/index';\r\nimport LoadingIndicator from \"../../elements/LoadingIndicator/index\";\r\nimport API from \"../../../services/API\";\r\nimport SocketPubSub from '../../../services/sockerPubSub';\r\nimport StoreHelper from '../../../lib/StoreHelper/loadData';\r\nimport AlertSnackbars from '../../elements/AlertBar/index';\r\nimport { confirmAlert } from '../../elements/Dialogs/AlertDialog';\r\n\r\nimport {\r\n    Button,\r\n    Paper,\r\n    Grid,\r\n    Menu,\r\n    Snackbar,\r\n    MenuList,\r\n    MenuItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Typography,\r\n    Divider,\r\n    Dialog,\r\n    DialogContent,\r\n    DialogContentText,\r\n    TextField,\r\n    DialogActions\r\n} from '@material-ui/core';\r\n\r\nimport ConfigIcon from '@material-ui/icons/DonutLarge';\r\nimport NewIcon from '@material-ui/icons/CreateNewFolderOutlined';\r\nimport ImportIcon from '@material-ui/icons/ImportExport';\r\nimport SolutionEditor from './components/solutionEditor/solutionEditor';\r\nimport ExportWizardDialog from './components/exportWizardDialog/exportWizardDialog';\r\n\r\nlet isProd = require('../../../env.json').environment === 'prod';\r\n\r\nlet SAFE_STRING_REGEX = /([^A-Za-z0-9_]+)/;\r\n\r\nclass SolutionPage extends React.Component {\r\n    sharedView = null\r\n\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            newSolutionAnchorEl: null,\r\n\r\n            // loading: false\r\n            snackOpen: false,\r\n            snackMessage: \"\",\r\n            snackVariant: null,\r\n            aliasInputDialogOpen: false,\r\n            selectedSolutionId: null,\r\n            selectedSolutionAlias: null,\r\n            aliasInputDialogValue: \"\",\r\n            aliasInputDialogValueErrors: null,\r\n\r\n            loading: false,\r\n            loadingMessage: null,\r\n\r\n            exportSolutionWizard: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    componentDidMount() {\r\n        SocketPubSub.on(\"importStatus\", (data) => {\r\n            if (data.status == \"done\") {\r\n                (async () => {\r\n                    await StoreHelper.reloadCoreData(this.props.dispatch);\r\n\r\n                    this.setState({\r\n                        \"loading\": false,\r\n                        \"loadingMessage\": null\r\n                    });\r\n\r\n                    if (data.hasSubdomains) {\r\n                        this.openSnack([\"Solution imported.\", \"WARNING: One or more Ndginx configurations have a subdomain configured. You will have to specify a domain for those configurations before deploying the solution.\"], \"warning\");\r\n                    } else {\r\n                        this.openSnack(\"Solution imported.\");\r\n                    }\r\n                })();\r\n            } else if (data.status == \"message\") {\r\n                this.setState({\r\n                    \"loadingMessage\": data.message\r\n                });\r\n            } else if (data.status == \"error\") {\r\n                this.setState({\r\n                    \"loading\": false,\r\n                    \"loadingMessage\": null\r\n                });\r\n                this.openSnack(\"An error occured, the solution could not be imported\", \"error\");\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n\t *componentWillUnmount\r\n\t */\r\n    componentWillUnmount() {\r\n        SocketPubSub.off(\"importStatus\");\r\n    }\r\n\r\n    /**\r\n     * openSnack\r\n     * @param {*} message \r\n     * @param {*} variant \r\n     */\r\n    openSnack(message, variant) {\r\n        this.setState({ snackOpen: true, snackMessage: message, snackVariant: variant ? variant : \"success\" });\r\n    }\r\n\r\n    /**\r\n     * handleSnackClose\r\n     */\r\n    handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ snackOpen: false });\r\n    };\r\n\r\n    /**\r\n     * handleSolutionMenuClick\r\n     */\r\n    handleSolutionMenuClick = id => {\r\n        // There is always an ID here, this logic is only there to reset the component for the new solution id object\r\n        if (this.state.selectedSolutionId == id) {\r\n            return;\r\n        }\r\n\r\n        if (this.state.selectedSolutionId === null) {\r\n            this.setState({ selectedSolutionId: id, selectedSolutionAlias: null });\r\n        } else {\r\n            this.setState({\r\n                loading: true,\r\n                loadingMessage: null,\r\n                selectedSolutionId: null,\r\n                selectedSolutionAlias: null\r\n            });\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    selectedSolutionId: id,\r\n                    loading: false,\r\n                    loadingMessage: null\r\n                });\r\n            }, 500);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * renderSolutionEditor\r\n     */\r\n    renderSolutionEditor() {\r\n        if (this.state.selectedSolutionId === null) {\r\n            return null;\r\n        }\r\n        let solution = null;\r\n        if (this.state.selectedSolutionId != -1) {\r\n            solution = this.props.solutions.find(s => s.id == this.state.selectedSolutionId);\r\n        }\r\n\r\n        return <SolutionEditor\r\n            solution={solution}\r\n            alias={solution ? solution.alias : this.state.selectedSolutionAlias}\r\n            notify={this.openSnack.bind(this)}\r\n            onDeleteSolution={this.deleteSolution.bind(this)}\r\n            exportSolution={this.exportSolution.bind(this)}\r\n            solutionSaved={this.afterSolutionSaved.bind(this)} />;\r\n    }\r\n\r\n    /**\r\n     * deleteSolution\r\n     */\r\n    async deleteSolution() {\r\n        // Confirm delete\r\n        confirmAlert({\r\n            title: null,\r\n            message: 'Are you sure you want to delete this solution?',\r\n            buttons: [\r\n                {\r\n                    label: 'Yes',\r\n                    onClick: async () => {\r\n                        let sid = this.state.selectedSolutionId;\r\n                        this.setState({\r\n                            selectedSolutionId: null\r\n                        });\r\n\r\n                        let solutionLinks = this.props.solutionParameters.filter(ndl => ndl.solutionId == sid);\r\n                        for (let i = 0; i < solutionLinks.length; i++) {\r\n                            await API.endpoints.SolutionParameters.deleteById(solutionLinks[i].id);\r\n                            this.props.dispatch({\r\n                                type: \"DELETE_SOLUTION_PARAMETER\",\r\n                                data: solutionLinks[i].id\r\n                            });\r\n                        }\r\n\r\n                        await API.endpoints.Solutions.deleteById(sid);\r\n                        this.props.dispatch({\r\n                            type: \"DELETE_SOLUTION\",\r\n                            data: sid\r\n                        });\r\n\r\n                        this.openSnack(\"Solution deleted\");\r\n                    }\r\n                },\r\n                {\r\n                    label: 'No',\r\n                    onClick: () => {\r\n\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    /**\r\n     * afterSolutionSaved\r\n     */\r\n    afterSolutionSaved(solutionId) {\r\n        this.setState({\r\n            selectedSolutionId: solutionId\r\n        });\r\n    }\r\n\r\n    /**\r\n     * handleNewSolutionClick\r\n     * @param {*} event\r\n     */\r\n    handleNewSolutionClick(event) {\r\n        this.setState({ newSolutionAnchorEl: event.currentTarget });\r\n    }\r\n\r\n    /**\r\n     * handleNewSolutionClose\r\n     */\r\n    handleNewSolutionClose = (targetSelect) => {\r\n        if (targetSelect == 'blank') {\r\n            this.setState({\r\n                loading: true,\r\n                loadingMessage: null,\r\n                newSolutionAnchorEl: null,\r\n                aliasInputDialogValueErrors: null,\r\n                selectedSolutionId: null,\r\n                selectedSolutionAlias: null,\r\n                aliasInputDialogValue: \"\",\r\n                targetSelect: 'blank'\r\n            });\r\n\r\n            // Wait 500 millis to flush out container, so that a new instance get's created\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    selectedSolutionId: -1,\r\n                    loading: false,\r\n                    loadingMessage: null\r\n                });\r\n            }, 500);\r\n        } else if (targetSelect == 'template') {\r\n            this.setState({\r\n                newSolutionAnchorEl: null,\r\n                aliasInputDialogOpen: true,\r\n                aliasInputDialogValue: \"\",\r\n                aliasInputDialogValueErrors: null,\r\n                targetSelect: 'template'\r\n            });\r\n        } else {\r\n            this.setState({\r\n                newSolutionAnchorEl: null,\r\n                aliasInputDialogOpen: false\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * getAliasEditorDialog\r\n     */\r\n    getAliasEditorDialog() {\r\n        return <Dialog\r\n            open={this.state.aliasInputDialogOpen}\r\n            // onClose={this.setState({ aliasInputDialogOpen: false })}\r\n            aria-labelledby=\"alias-form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                <Typography color=\"textSecondary\">\r\n                    Specify an alias to avoid overwriting existing elements in your environement in case the solution uses similar names.\r\n                </Typography>\r\n\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 20, marginBottom: 20 }} />\r\n\r\n                <DialogContentText>Solution alias name</DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    type=\"text\"\r\n                    value={this.state.aliasInputDialogValue}\r\n                    fullWidth\r\n                    onChange={(e) => {\r\n                        this.setState({ aliasInputDialogValue: e.target.value.toLowerCase() })\r\n                    }}\r\n                />\r\n                {this.state.aliasInputDialogValueErrors && this.state.aliasInputDialogValueErrors.map((error, i) => <div key={\"err_\" + i} style={{\r\n                    color: \"red\",\r\n                    fontSize: 12\r\n                }}>{error}</div>)}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => this.setState({ aliasInputDialogOpen: false })} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={() => {\r\n                    if (this.state.aliasInputDialogValue.length == 0) {\r\n                        this.setState({\r\n                            aliasInputDialogValueErrors: [\"Required value\"]\r\n                        });\r\n                    } else if (SAFE_STRING_REGEX.exec(this.state.aliasInputDialogValue)) {\r\n                        this.setState({\r\n                            aliasInputDialogValueErrors: [\"Error: alias must contain only letters, numbers or underscore.\"]\r\n                        });\r\n                    }\r\n                    else if (this.props.solutions.find(solution => solution.alias && solution.alias.toLowerCase() == this.state.aliasInputDialogValue.toLowerCase())) {\r\n                        this.setState({\r\n                            aliasInputDialogValueErrors: [\"Alias name already in use\"]\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.openImportSolutionFileDialog();\r\n                    }\r\n                }} color=\"secondary\">\r\n                    Select ZIP\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    /**\r\n     * exportSolution\r\n     */\r\n    exportSolution() {\r\n        this.setState({ exportSolutionWizard: true });\r\n    }\r\n\r\n    /**\r\n     * onSolutionExportDialogClose\r\n     */\r\n    onSolutionExportDialogClose() {\r\n        this.setState({ exportSolutionWizard: false });\r\n    }\r\n\r\n    /**\r\n     * openImportSolutionFileDialog\r\n     */\r\n    openImportSolutionFileDialog() {\r\n        var fileInputDom = ReactDOM.findDOMNode(this.refs.import_input);\r\n        fileInputDom.value = '';\r\n        fileInputDom.click()\r\n    }\r\n\r\n    /**\r\n     * handleImportSolutionSelect\r\n     * @param {*} event \r\n     */\r\n    async handleImportSolutionSelect(event) {\r\n        if (event.target.files && event.target.files.length == 1) {\r\n\r\n            // Prepare form data\r\n            const data = new FormData();\r\n            data.append(this.state.aliasInputDialogValue, event.target.files[0]);\r\n\r\n            this.setState({\r\n                \"loading\": true,\r\n                \"loadingMessage\": \"Importing...\"\r\n            });\r\n\r\n            // Upload solution files and prepare import artefacts\r\n            let response = await API.endpoints.Solutions.solutionImport(data);\r\n            if (response.data.success) {\r\n                try {\r\n                    this.setState({\r\n                        \"newSolutionAnchorEl\": null,\r\n                        \"aliasInputDialogOpen\": false\r\n                    });\r\n                    // Now start the import process using SocketIO. \r\n                    // This involves building images, therefore it can take quiet a long time\r\n                    SocketPubSub.socket.emit('importSolution', {\r\n                        \"uid\": this.props.userSession.userId,\r\n                        \"containerBuildDirs\": response.data.containerBuildDirs,\r\n                        \"solutionJsonFilePath\": response.data.solutionJsonFilePath,\r\n                        \"alias\": this.state.aliasInputDialogValue\r\n                    });\r\n                } catch (err) {\r\n                    this.setState({\r\n                        \"loading\": false,\r\n                        \"loadingMessage\": null,\r\n                        \"newSolutionAnchorEl\": null,\r\n                        \"aliasInputDialogOpen\": false\r\n                    });\r\n                    this.openSnack(\"An error occured, could not import configuration\", \"error\");\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    \"loading\": false,\r\n                    \"loadingMessage\": null,\r\n                    \"newSolutionAnchorEl\": null,\r\n                    \"aliasInputDialogOpen\": false\r\n                });\r\n\r\n                if (response.data.error) {\r\n                    this.openSnack(\"Error occured: \" + response.data.error, \"error\");\r\n                } else {\r\n                    this.openSnack(response.data.message);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        // If loged in, redirect to boardingpass page\r\n        if (!this.props.userSession.token) {\r\n            return <Redirect to='/login' />\r\n        }\r\n\r\n        const { newSolutionAnchorEl } = this.state;\r\n        const { classes } = this.props;\r\n\r\n        let emptyState = {};\r\n        if (isProd) {\r\n            emptyState.backgroundImage = 'url(/psh-admin/docker_nginx.png)';\r\n        } else {\r\n            emptyState.backgroundImage = 'url(/docker_nginx.png)';\r\n        }\r\n\r\n        return (\r\n            <SharableView\r\n                ref={(el) => this.sharedView = el}\r\n                history={this.props.history}\r\n                pageIndex={0}\r\n                notify={this.openSnack.bind(this)}\r\n            >\r\n                {/* Display editor */}\r\n                {/* {!this.state.loading &&  */}\r\n                <Grid item xs={12}>\r\n                    <Paper className={classes.configPaper}>\r\n                        <Grid container spacing={16}>\r\n                            {/* Table List */}\r\n                            <Grid item xs={3}>\r\n\r\n                                <Grid container spacing={16}>\r\n                                    <Grid item xs={12}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            fullWidth\r\n                                            aria-owns={newSolutionAnchorEl ? 'simple-menu' : undefined}\r\n                                            aria-haspopup=\"true\"\r\n                                            onClick={this.handleNewSolutionClick.bind(this)}>New solution</Button>\r\n                                        <Menu\r\n                                            id=\"simple-menu-new-solution\"\r\n                                            anchorEl={newSolutionAnchorEl}\r\n                                            open={Boolean(newSolutionAnchorEl)}\r\n                                            onClose={this.handleNewSolutionClose.bind(this)}\r\n                                        >\r\n                                            <MenuItem onClick={this.handleNewSolutionClose.bind(this, 'blank')}>\r\n                                                <ListItemIcon className={classes.icon}>\r\n                                                    <NewIcon />\r\n                                                </ListItemIcon>\r\n                                                <ListItemText inset primary=\"From scratch\" />\r\n                                            </MenuItem>\r\n                                            <MenuItem disabled={!this.props.userSession.online} onClick={this.handleNewSolutionClose.bind(this, 'template')}>\r\n                                                <ListItemIcon className={classes.icon}>\r\n                                                    <ImportIcon />\r\n                                                </ListItemIcon>\r\n                                                <ListItemText inset primary=\"Import\" />\r\n                                            </MenuItem>\r\n                                        </Menu>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 10 }} />\r\n                                <MenuList>\r\n                                    {this.props.solutions.map(s => <MenuItem\r\n                                        key={\"solution_menu_\" + s.id}\r\n                                        className={[classes.menuItem, this.state.selectedSolutionId == s.id ? classes.menuItemSelected : null].join(' ')}\r\n                                        onClick={this.handleSolutionMenuClick.bind(this, s.id)}>\r\n                                        <ListItemIcon className={classes.icon}>\r\n                                            <ConfigIcon />\r\n                                        </ListItemIcon>\r\n                                        <Typography variant=\"inherit\" noWrap>\r\n                                            {s.name}\r\n                                        </Typography>\r\n                                    </MenuItem>)}\r\n                                </MenuList>\r\n                                {this.props.solutions.length == 0 && <Typography variant=\"body1\" style={{ textAlign: 'center' }}>-none-</Typography>}\r\n                            </Grid>\r\n                            <Grid item xs={9}\r\n                                style={this.state.selectedSolutionId === null ? emptyState : {}}\r\n                                className={[classes.viewContainer, this.state.selectedSolutionId === null ? classes.emptyView : null].join(' ')}>\r\n                                {this.renderSolutionEditor()}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n                {/* } */}\r\n\r\n\r\n\r\n                <AlertSnackbars\r\n                    open={this.state.snackOpen}\r\n                    handleClose={this.handleSnackClose}\r\n                    message={this.state.snackMessage}\r\n                    variant={this.state.snackVariant}\r\n                />\r\n\r\n                {this.getAliasEditorDialog()}\r\n\r\n                <LoadingIndicator show={this.state.loading} message={this.state.loadingMessage} />\r\n\r\n                <input\r\n                    accept=\"application/zip\"\r\n                    style={{ display: 'none' }}\r\n                    type=\"file\"\r\n                    ref=\"import_input\"\r\n                    onChange={this.handleImportSolutionSelect.bind(this)}\r\n                />\r\n\r\n                {this.state.exportSolutionWizard && <ExportWizardDialog solutionId={this.state.selectedSolutionId} notify={this.openSnack.bind(this)} onDialogClose={this.onSolutionExportDialogClose.bind(this)} />}\r\n            </SharableView >\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    userSession: state.userSession,\r\n    solutions: state.solutions,\r\n    solutionParameters: state.solutionParameters,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SolutionPage));","const styles = theme => ({\r\n    paper: {\r\n        padding: theme.spacing.unit,\r\n        position: 'relative',\r\n        textAlign: 'left',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        backgroundColor: 'rgba(255, 255, 255, 0.8)'\r\n    },\r\n    formDiv: {\r\n        padding: 20,\r\n        overflow: 'auto',\r\n        maxHeight: 600\r\n    },\r\n    tableTitleDiv: {\r\n        fontSize: 28,\r\n        marginTop: 5,\r\n        marginBottom: 10,\r\n        paddingRight: 70\r\n    },\r\n    tableHeaderCell: {\r\n        color: '#436dbb'\r\n    },\r\n    tableCell: {\r\n        whiteSpace: 'normal',\r\n        wordWrap: 'break-word'\r\n    },\r\n    tableCellButton: {\r\n        textAlign: 'right'\r\n    },\r\n    appBar: {\r\n        position: 'relative',\r\n        minWidth: 550\r\n    },\r\n    flex: {\r\n        flex: 1,\r\n    },\r\n    card: {\r\n        backgroundColor: '#eeeeee',\r\n        overflow: 'auto',\r\n        // height: '100%'\r\n        maxHeight: 400\r\n    },\r\n    cardInfo: {\r\n        backgroundColor: '#ffffd1'\r\n    },\r\n    emptyDialogLine: {\r\n        paddingLeft: 30,\r\n        marginTop: -15\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper, Grid, Button, TextField, Divider } from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport styles from './styles.js';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass NetworksTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_NETWORKS\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.name}</TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _name: selected && selected.name ? selected.name : \"\"\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            name: state._name\r\n        }\r\n    }\r\n    tableHeader() {\r\n        // return <TableRow>\r\n        //     <TableCell>Name</TableCell>\r\n        // </TableRow>;\r\n        return null;\r\n    }\r\n    generateFormContent() {\r\n        return <div className={\"form-group\"}>\r\n            <Grid container spacing={16}>\r\n                <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            name=\"name\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._name}\r\n                            onChange={(e) => { this.setState({ _name: e.target.value }) }}\r\n                            label=\"Name\"\r\n                            type=\"text\"\r\n                            fullWidth\r\n                            autoFocus\r\n                            required />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                if (this.state._name.toLowerCase() == 'nginx_network' || this.props.networks.find(o => (!this.state._id || o.id != this.state._id) && o.name.toLowerCase() == this.state._name.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: network name already in use.\", \"error\");\r\n                }\r\n\r\n                let modelObject = this.populateSelected(this.state);\r\n\r\n                try {\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.Networks.create(modelObject);\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.networks, dbResult]\r\n                        });\r\n                    } else {\r\n                        modelObject.id = this.state._id;\r\n                        let dbResult = await API.endpoints.Networks.update(modelObject);\r\n                        let updData = this.props.networks.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.props.containers.find(c => c.networks.indexOf(this.state._id) != -1)) {\r\n            return this.props.notify(\"Conflict: this network is used by at least one container configuration.\", \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                await API.endpoints.Networks.deleteById(this.state._id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.networks.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.networks.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * submitForm\r\n     */\r\n    // submitForm() {\r\n    // this.setState({\r\n    //     saving: true\r\n    // });\r\n\r\n    // API.endpoints.Flights.remote(\"processPendingPointEventData\", null, \"POST\", { ...this.state, flightId: this.props.event.flight ? this.props.event.flight.id : null, eventId: this.props.event.id, uid: this.props.event.userMembership.alpUser.id }).then((result) => {\r\n    //     this.props.doneEditing(result.data);\r\n    // }).catch((err) => {\r\n    //     this.setState({\r\n    //         saving: false\r\n    //     });\r\n    //     this.props.errorEditing();\r\n    // });\r\n    // }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Networks</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.networks.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n                        {this.props.networks.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} network\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            {this.generateFormContent()}\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    networks: state.networks,\r\n    containers: state.containers,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NetworksTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper, Grid, Button, TextField, Divider } from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport styles from './styles.js';\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport YAML from 'yaml';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass DockerImagesTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_DOCKER_IMAGES\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.name}</TableCell>\r\n            <TableCell className={cellClasses}>{row.version}</TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _name: selected && selected.name ? selected.name : \"\",\r\n            _version: selected && selected.version ? selected.version : \"\",\r\n            _template: selected && selected.template ? selected.template : \"\"\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            name: state._name,\r\n            version: state._version,\r\n            template: state._template\r\n        }\r\n    }\r\n    tableHeader() {\r\n        return this.props.dockerImages.length > 0 ? <TableRow>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Image</TableCell>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Version</TableCell>\r\n        </TableRow> : null;\r\n    }\r\n    generateFormContent() {\r\n        return <div className={\"form-group\"}>\r\n            <Grid container spacing={16}>\r\n                <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            name=\"name\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._name}\r\n                            onChange={(e) => { this.setState({ _name: e.target.value }) }}\r\n                            label=\"Name\"\r\n                            type=\"text\"\r\n                            fullWidth\r\n                            autoFocus\r\n                            required />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            name=\"version\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._version}\r\n                            onChange={(e) => { this.setState({ _version: e.target.value }) }}\r\n                            label=\"Version\"\r\n                            type=\"text\"\r\n                            fullWidth />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            multiline\r\n                            name=\"template\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._template}\r\n                            onChange={(e) => { this.setState({ _template: e.target.value }) }}\r\n                            label=\"Template YAML\"\r\n                            type=\"text\"\r\n                            fullWidth />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n\r\n            if (isValide) {\r\n                let modelObject = this.populateSelected(this.state);\r\n\r\n                // First, validate YAML\r\n                if (modelObject.template && modelObject.template.length > 0) {\r\n                    try {\r\n                        let yamlDoc = YAML.parse(modelObject.template);\r\n                        // console.log(JSON.stringify(yamlDoc, null, 4));\r\n                        // console.log(Object.keys(yamlDoc));\r\n                        // console.log(YAML.stringify(yamlDoc));\r\n                    }\r\n                    catch (err) {\r\n                        return this.props.notify(\"YAML template contains errors\", \"error\");\r\n                    };\r\n                }\r\n\r\n                try {\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.DockerImages.create(modelObject);\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.dockerImages, dbResult]\r\n                        });\r\n                    } else {\r\n                        modelObject.id = this.state._id;\r\n                        let dbResult = await API.endpoints.DockerImages.update(modelObject);\r\n                        let updData = this.props.dockerImages.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.props.containers.find(c => c.dockerImageId == this.state._id)) {\r\n            return this.props.notify(\"Conflict: this docker image is used by at least one container configuration.\", \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                await API.endpoints.DockerImages.deleteById(this.state._id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.dockerImages.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.dockerImages.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Docker Images</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.dockerImages.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n                        {this.props.dockerImages.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }} colSpan={2}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} Docker image\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            {this.generateFormContent()}\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    dockerImages: state.dockerImages,\r\n    containers: state.containers\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DockerImagesTable));","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport ValidatorForm from \"../ValidationForm/index\";\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Switch from '@material-ui/core/Switch';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nexport default class ReactContainerVolumeDialog extends React.Component {\n    static propTypes = {\n        buttons: PropTypes.array.isRequired,\n        willUnmount: PropTypes.func\n    }\n\n    static defaultProps = {\n        buttons: [\n            {\n                label: 'Cancel',\n                onClick: () => null\n            },\n            {\n                label: 'Confirm',\n                onClick: () => null\n            }\n        ],\n        willUnmount: () => null\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            hostPath: \"\",\n            volumeDescription: \"\",\n            containerPath: \"\",\n            execOnEveryDeploy: false,\n            git: \"\",\n            cmd: \"\"\n        };\n    }\n\n    handleClickButton = doit => {\n        if (doit) {\n            let isValide = this.formEl.validate();\n            if (isValide) {\n                let duplicate = null;\n                // If update volume\n                if (this.props.containerPath.length > 0) {\n                    duplicate = this.props.currentVolumes.find(o => o.containerPath != this.props.containerPath && this.state.containerPath == o.containerPath);\n                }\n                // If add volume\n                else {\n                    duplicate = this.props.currentVolumes.find(o => this.state.containerPath == o.containerPath);\n                }\n                if (!duplicate) {\n                    this.props.onSubmit({\n                        hostPath: this.state.hostPath,\n                        volumeDescription: this.state.volumeDescription,\n                        containerPath: this.state.containerPath,\n                        git: this.state.git,\n                        cmd: this.state.cmd,\n                        execOnEveryDeploy: this.state.execOnEveryDeploy\n                    });\n                    this.close();\n                } else {\n                    this.props.onDuplicate();\n                }\n            }\n        } else {\n            this.close();\n        }\n    }\n\n    close = () => {\n        removeElementReconfirm();\n    }\n\n    keyboardClose = event => {\n        if (event.keyCode === 27) {\n            this.close()\n        }\n    }\n\n    componentDidMount = () => {\n        document.addEventListener('keydown', this.keyboardClose, false);\n        this.setState({\n            hostPath: this.props.hostPath,\n            volumeDescription: this.props.volumeDescription,\n            containerPath: this.props.containerPath,\n            git: this.props.git,\n            cmd: this.props.cmd,\n            execOnEveryDeploy: this.props.execOnEveryDeploy\n        });\n    }\n\n    componentWillUnmount = () => {\n        document.removeEventListener('keydown', this.keyboardClose, false);\n        this.props.willUnmount()\n    }\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                onClose={this.close}\n                aria-labelledby=\"volume-dialog-title\"\n                aria-describedby=\"volume-dialog-description\"\n            >\n                <DialogTitle id=\"volume-dialog-title\">Volume configuration</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"volume-dialog-description\">\n                        You can optionally specify a GIT repository for this volume, in which case the repo will be cloned inside this volume if it does not exist on deploy.\n                    </DialogContentText>\n                    <ValidatorForm ref={form => (this.formEl = form)}>\n\n                        <Grid container alignItems=\"center\" style={{ marginTop: 20 }}>\n                            <Grid item xs={12}>\n                                <div className={\"form-group\"} style={{ marginRight: 10 }}>\n                                    <TextField\n                                        autoFocus\n                                        margin=\"dense\"\n                                        label=\"Container volume description\"\n                                        type=\"text\"\n                                        value={this.state.volumeDescription}\n                                        onChange={(e) => {\n                                            this.setState({ \"volumeDescription\": e.target.value })\n                                        }}\n                                        fullWidth />\n                                    <div className=\"invalid-feedback\"></div>\n                                </div>\n                            </Grid>\n                            <Grid item xs>\n                                <div className={\"form-group\"} style={{ marginRight: 10 }}>\n                                    <TextField\n                                        required\n                                        // inputProps={{ pattern: \"^\\/([ A-z0-9\\-_+]+\\/)*([ A-z0-9\\-_+]+)$\" }}\n                                        margin=\"dense\"\n                                        label=\"Host volume path\"\n                                        type=\"text\"\n                                        value={this.state.hostPath}\n                                        onChange={(e) => {\n                                            this.setState({ \"hostPath\": e.target.value })\n                                        }}\n                                        fullWidth />\n                                    <div className=\"invalid-feedback\"></div>\n                                </div>\n                            </Grid>\n                            <Grid item xs>\n                                <div className={\"form-group\"} style={{ marginLeft: 10 }}>\n                                    <TextField\n                                        required\n                                        // inputProps={{ pattern: \"^\\/([ A-z0-9\\-_+]+\\/)*([ A-z0-9\\-_+]+)$\" }}\n                                        margin=\"dense\"\n                                        label=\"Container path\"\n                                        type=\"text\"\n                                        value={this.state.containerPath}\n                                        onChange={(e) => {\n                                            this.setState({ \"containerPath\": e.target.value })\n                                        }}\n                                        fullWidth />\n                                    <div className=\"invalid-feedback\"></div>\n                                </div>\n                            </Grid>\n                        </Grid>\n\n                        <Divider style={{ marginTop: 40, marginBottom: 10 }}></Divider>\n\n                        <Grid container alignItems=\"center\">\n                            <Grid item xs>\n                                <div className={\"form-group\"}>\n                                    <TextField\n                                        margin=\"dense\"\n                                        label=\"Git repo (optional)\"\n                                        type=\"text\"\n                                        value={this.state.git}\n                                        onChange={(e) => {\n                                            this.setState({ \"git\": e.target.value })\n                                        }}\n                                        fullWidth />\n                                    <div className=\"invalid-feedback\"></div>\n                                </div>\n                            </Grid>\n                        </Grid>\n\n                        {this.state.git.length > 0 && <Grid container alignItems=\"center\">\n                            <Grid item xs>\n                                <div className={\"form-group\"} style={{ marginRight: 10 }}>\n                                    <TextField\n                                        margin=\"dense\"\n                                        label=\"Execute command after clone\"\n                                        type=\"text\"\n                                        value={this.state.cmd}\n                                        onChange={(e) => {\n                                            this.setState({ \"cmd\": e.target.value })\n                                        }}\n                                        fullWidth />\n                                    <div className=\"invalid-feedback\"></div>\n                                </div>\n                            </Grid>\n\n                            <Grid item xs>\n                                <FormGroup row style={{ marginLeft: 10 }}>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={this.state.execOnEveryDeploy}\n                                                onChange={(event) => {\n                                                    this.setState({ execOnEveryDeploy: event.target.checked });\n                                                }}\n                                            />\n                                        }\n                                        label=\"Pull and execute on every deploy\"\n                                    />\n                                </FormGroup>\n                            </Grid>\n\n                        </Grid>}\n                    </ValidatorForm>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleClickButton(true)}>\n                        {this.props.submitLabel}\n                    </Button>\n                    <Button onClick={() => this.handleClickButton()}>\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\n\nfunction createElementReconfirm(properties) {\n    let divTarget = document.getElementById('react-volume-dialog')\n    if (divTarget) {\n        // Rerender - the mounted ReactContainerVolumeDialog\n        render(<ReactContainerVolumeDialog {...properties} />, divTarget)\n    } else {\n        // Mount the ReactContainerVolumeDialog component\n        document.body.children[0].classList.add('react-volume-dialog-blur')\n        divTarget = document.createElement('div')\n        divTarget.id = 'react-volume-dialog'\n        document.body.appendChild(divTarget)\n        render(<ReactContainerVolumeDialog {...properties} />, divTarget)\n    }\n}\n\nfunction removeElementReconfirm() {\n    const target = document.getElementById('react-volume-dialog')\n    unmountComponentAtNode(target)\n    target.parentNode.removeChild(target)\n}\n\nexport function volumeDialog(properties) {\n    createElementReconfirm(properties)\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Paper,\r\n    Grid,\r\n    FormControl,\r\n    Button,\r\n    TextField,\r\n    Select,\r\n    MenuItem,\r\n    InputLabel,\r\n    Checkbox,\r\n    Avatar,\r\n    ListItemText,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListSubheader,\r\n    ListItemSecondaryAction,\r\n    Divider,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    IconButton\r\n} from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport styles from './styles.js';\r\nimport CheckIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport FolderOpen from '@material-ui/icons/FolderOpen';\r\nimport DnsIcon from '@material-ui/icons/Dns';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport { volumeDialog } from '../Dialogs/ContainerVolumeDialog';\r\n\r\nimport YAML from 'yaml';\r\n\r\nlet SAFE_STRING_REGEX = /([^A-Za-z0-9_]+)/;\r\nlet PORT_MAPPING_REGEX = /(\\d{1,5}:{1,5})/;\r\n// let VOLUME_MAPPING_REGEX = /(.+\\:.+)/;\r\nlet DNS_MAPPING_REGEX = /(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/;\r\nlet ENV_REGEX = /(^([^=]+=[^;]+;)*([^=]+=[^;]+;?))/;\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n};\r\n\r\nclass ConfigsTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.state.inputDialogOpen = false;\r\n        this.state.inputDialogLabel = \"\";\r\n        this.state.inputDialogTarget = \"\";\r\n        this.state.inputDialogValue = \"\";\r\n        this.state.inputDialogKey = \"\";\r\n        this.state.inputDialogValueErrors = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_CONTAINERS\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        let dImage = this.props.dockerImages.find(di => di.id == row.dockerImageId);\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.name}</TableCell>\r\n            <TableCell className={cellClasses}>\r\n                {`${this.props.dockerImages.find(di => di.id == row.dockerImageId).name}${dImage.version.length > 0 ? \":\" + dImage.version : \"\"}`}\r\n            </TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _name: selected && selected.name ? selected.name : \"\",\r\n            _networks: selected && selected.networks ? selected.networks : [],\r\n            _dependsOn: selected && selected.dependsOn ? selected.dependsOn : [],\r\n            _dockerImageId: selected && selected.dockerImageId ? selected.dockerImageId : \"\",\r\n            _env: selected && selected.env ? selected.env : [],\r\n            _ports: selected && selected.ports ? selected.ports : [],\r\n            _command: selected && selected.command ? selected.command : \"\",\r\n            _user: selected && selected.user ? selected.user : \"\",\r\n            _workingDir: selected && selected.workingDir ? selected.workingDir : \"\",\r\n            _volumes: selected && selected.volumes ? selected.volumes : [],\r\n            _dns: selected && selected.dns ? selected.dns : [],\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            name: state._name,\r\n            dockerImageId: state._dockerImageId,\r\n            env: state._env,\r\n            dependsOn: state._dependsOn,\r\n            ports: state._ports,\r\n            command: state._command,\r\n            user: state._user,\r\n            workingDir: state._workingDir,\r\n            volumes: state._volumes,\r\n            dns: state._dns\r\n        }\r\n    }\r\n    tableHeader() {\r\n        return this.props.containers.length > 0 ? <TableRow>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Name</TableCell>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Image</TableCell>\r\n        </TableRow> : null;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        if (selected && !selected.id && this.props.dockerImages.length == 0) {\r\n            return this.props.notify(\"No docker images available\", \"error\");\r\n        }\r\n\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                // Extra validation checks\r\n                if (SAFE_STRING_REGEX.exec(this.state._name)) {\r\n                    return this.props.notify(\"Error: Container name must contain only letters, numbers or underscore.\", \"error\");\r\n                }\r\n                if (this.props.containers.find(c => (!this.state._id || c.id != this.state._id) && c.name.toLowerCase() == this.state._name.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: container name already in use.\", \"error\");\r\n                }\r\n                else if (this.state._id) {\r\n                    let dependsOnOverlap = false;\r\n                    this.state._dependsOn.find(depCont => {\r\n                        let overlapingDependsOn = this.props.containers.filter(c => c.id != this.state._id).find(o => o.dependsOn && o.dependsOn.find(u => u == this.state._id));\r\n                        if (overlapingDependsOn) {\r\n                            dependsOnOverlap = true;\r\n                        }\r\n                    });\r\n                    if (dependsOnOverlap) {\r\n                        return this.props.notify(\"Conflict: this container is dependent on a container that is itself dependant on this container.\", \"error\");\r\n                    }\r\n                }\r\n\r\n                // Now move on\r\n                let modelObject = this.populateSelected(this.state);\r\n                try {\r\n                    // On add container\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.Containers.create(modelObject);\r\n\r\n                        // Networks\r\n                        for (let i = 0; i < this.state._networks.length; i++) {\r\n                            await API.endpoints.Containers.linkRelation(dbResult.id, \"networks\", this.state._networks[i], {\r\n                                \"containerId\": dbResult.id,\r\n                                \"networkId\": this.state._networks[i]\r\n                            });\r\n                        }\r\n                        dbResult.networks = this.state._networks;\r\n\r\n                        // Now dispatch updates\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.containers, dbResult]\r\n                        });\r\n                    }\r\n                    // On update container\r\n                    else {\r\n                        modelObject.id = this.state._id;\r\n\r\n                        // if (this.state.selected.nginxConfigId) {\r\n                        //     modelObject.nginxConfigId = this.state.selected.nginxConfigId;\r\n                        // }\r\n\r\n                        let dbResult = await API.endpoints.Containers.update(modelObject);\r\n\r\n                        for (let i = 0; i < this.state.selected.networks.length; i++) {\r\n                            if (this.state._networks.indexOf(this.state.selected.networks[i]) == -1) {\r\n                                await API.endpoints.Containers.unlinkRelation(this.state._id, \"networks\", this.state.selected.networks[i]);\r\n                            }\r\n                        }\r\n\r\n                        for (let i = 0; i < this.state._networks.length; i++) {\r\n                            if (this.state.selected.networks.indexOf(this.state._networks[i]) == -1) {\r\n                                await API.endpoints.Containers.linkRelation(this.state._id, \"networks\", this.state._networks[i], {\r\n                                    \"containerId\": this.state._id,\r\n                                    \"networkId\": this.state._networks[i]\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        dbResult.networks = this.state._networks;\r\n\r\n                        let updData = this.props.containers.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.state.selected.id) {\r\n            let nginxConfigIds = this.props.nginxDockerLinks.filter(ndl => ndl.containerId == this.state.selected.id).map(ndl => ndl.nginxConfigId);\r\n            if (nginxConfigIds.length > 0) {\r\n                return this.props.notify(`Conflict: this container configuration is in use by NGinx configs '${this.props.nginxConfigs.filter(nxc => nginxConfigIds.indexOf(nxc.id) != -1).map(nxc => nxc.name).join(', ')}'`, \"error\");\r\n            }\r\n        }\r\n\r\n        if (this.props.containers.filter(c => c.id != this.state._id).find(o => o.dependsOn && o.dependsOn.find(u => u == this.state._id))) {\r\n            this.props.notify(`Conflict: Cannot delete because there is a container that flagged this container as a dependency.`, \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                // Remove potential solution parameters\r\n                                let toDelSolutionParams = this.props.solutionParameters.filter(sp => sp.containerId == this.state._id);\r\n                                for (let i = 0; i < toDelSolutionParams.length; i++) {\r\n                                    await API.endpoints.SolutionParameters.deleteById(toDelSolutionParams[i].id);\r\n                                    this.props.dispatch({\r\n                                        type: \"DELETE_SOLUTION_PARAMETER\",\r\n                                        data: toDelSolutionParams[i].id\r\n                                    });\r\n                                }\r\n\r\n                                // Now remove container\r\n                                await API.endpoints.Containers.deleteById(this.state._id);\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.containers.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.containers.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * stringEditorDialog\r\n     */\r\n    stringEditorDialog(text, handleClose, validator) {\r\n        return <Dialog\r\n            open={this.state.inputDialogOpen}\r\n            onClose={handleClose.bind(this, \"CANCEL\")}\r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                {text && <DialogContentText>{text}</DialogContentText>}\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label={this.state.inputDialogLabel}\r\n                    type=\"text\"\r\n                    value={this.state.inputDialogValue}\r\n                    onChange={(e) => {\r\n                        this.setState({ \"inputDialogValue\": e.target.value })\r\n                    }}\r\n                    style={{ width: 500 }}\r\n                />\r\n                {this.state.inputDialogValueErrors && this.state.inputDialogValueErrors.map((error, i) => <div key={\"err_\" + i} style={{\r\n                    color: \"red\",\r\n                    fontSize: 12\r\n                }}>{error}</div>)}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose.bind(this, \"CANCEL\")} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={() => {\r\n                    if (validator) {\r\n                        let validationErrors = validator(this.state.inputDialogValue);\r\n                        if (validationErrors) {\r\n                            this.setState({ \"inputDialogValueErrors\": validationErrors })\r\n                        } else {\r\n                            handleClose(\"SAVE\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        handleClose(\"SAVE\");\r\n                    }\r\n                }} color=\"primary\">\r\n                    Save\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockName\r\n     */\r\n    getDialogFormBlockName() {\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"name\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._name}\r\n                    onChange={(e) => { this.setState({ _name: e.target.value }) }}\r\n                    label=\"Container name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    autoFocus\r\n                    required\r\n                />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockCommand\r\n     */\r\n    getDialogFormBlockCommand() {\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"command\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._command}\r\n                    onChange={(e) => { this.setState({ _command: e.target.value }) }}\r\n                    label=\"Command\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockUser\r\n     */\r\n    getDialogFormBlockUser() {\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"user\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._user}\r\n                    onChange={(e) => { this.setState({ _user: e.target.value }) }}\r\n                    label=\"User\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockUser\r\n     */\r\n    getDialogFormBlockWorkingDir() {\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"workingDir\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._workingDir}\r\n                    onChange={(e) => { this.setState({ _workingDir: e.target.value }) }}\r\n                    label=\"Working directory\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockNetworks\r\n     */\r\n    getDialogFormBlockNetworks() {\r\n        const networkNames = this.props.networks.map(n => n.name);\r\n\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            {networkNames.length > 0 && <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"networks\">Networks</InputLabel>\r\n                    <Select\r\n                        multiple\r\n                        value={this.state._networks}\r\n                        onChange={(event) => {\r\n                            this.setState({ [event.target.name]: event.target.value });\r\n                        }}\r\n                        renderValue={selected => this.props.networks.filter(n => selected.indexOf(n.id) > -1).map(n => n.name).join(', ')}\r\n                        inputProps={{\r\n                            name: '_networks',\r\n                            id: 'networks',\r\n                        }}\r\n                        MenuProps={MenuProps}\r\n                        fullWidth\r\n                    >\r\n                        {networkNames.map(name => (\r\n                            <MenuItem key={name} value={this.props.networks.find(n => n.name == name).id}>\r\n                                <Checkbox checked={this.props.networks.filter(n => this.state._networks.indexOf(n.id) > -1).map(n => n.name).indexOf(name) > -1} />\r\n                                <ListItemText primary={name} />\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>}\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockNetworks\r\n     */\r\n    getDialogFormBlockDependsOn() {\r\n        const containerNames = this.props.containers.filter(n => n.id != this.state.selected.id);\r\n\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            {containerNames.length > 0 && <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_dependsOn\">Depends on</InputLabel>\r\n                    <Select\r\n                        multiple\r\n                        value={this.state._dependsOn}\r\n                        onChange={(event) => {\r\n                            this.setState({ [event.target.name]: event.target.value });\r\n                        }}\r\n                        renderValue={selected => {\r\n                            if (this.state._dependsOn) {\r\n                                return this.state._dependsOn.map(oid => this.props.containers.find(cl => cl.id == oid).name).join(', ');\r\n                            } else {\r\n                                return \"\";\r\n                            }\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_dependsOn',\r\n                            id: '_dependsOn',\r\n                        }}\r\n                        MenuProps={MenuProps}\r\n                        fullWidth\r\n                    >\r\n                        {containerNames.map(c => (\r\n                            <MenuItem key={c.name} value={c.id}>\r\n                                <Checkbox checked={this.state._dependsOn.find(o => o == c.id) ? true : false} />\r\n                                <ListItemText primary={c.name} />\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>}\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockDockerImages\r\n     */\r\n    getDialogFormBlockDockerImages() {\r\n        return <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"dockerImage\">Docker Image</InputLabel>\r\n                    <Select\r\n                        required\r\n                        value={this.state._dockerImageId}\r\n                        onChange={(event) => {\r\n                            let imageObject = this.props.dockerImages.find(o => o.id == event.target.value);\r\n\r\n                            let stateUpd = { [event.target.name]: event.target.value };\r\n                            if (imageObject.template && imageObject.template.length > 0) {\r\n                                let yamlDoc = YAML.parse(imageObject.template);\r\n\r\n                                if (yamlDoc.ports) {\r\n                                    stateUpd._ports = yamlDoc.ports\r\n                                }\r\n                                if (yamlDoc.environment) {\r\n                                    stateUpd._env = yamlDoc.environment\r\n                                }\r\n                                if (yamlDoc.dns) {\r\n                                    stateUpd._dns = yamlDoc.dns\r\n                                }\r\n                                if (yamlDoc.volumes) {\r\n                                    stateUpd._volumes = yamlDoc.volumes.map(v => {\r\n                                        return {\r\n                                            hostPath: v.substring(0, v.indexOf(\":\")),\r\n                                            containerPath: v.substring(v.indexOf(\":\") + 1),\r\n                                            git: \"\",\r\n                                            cmd: \"\"\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                                if (yamlDoc.networks) {\r\n                                    let networkIds = yamlDoc.networks.map(name => this.props.networks.find(n => n.name == name) ? this.props.networks.find(n => n.name == name).id : null);\r\n                                    stateUpd._networks = networkIds.filter(o => o != null);\r\n                                }\r\n\r\n                                if (yamlDoc.depends_on) {\r\n                                    let configIds = yamlDoc.depends_on.map(name => this.props.containers.find(n => n.name == name) ? name : null);\r\n                                    stateUpd._dependsOn = configIds.filter(o => o != null);\r\n                                }\r\n\r\n                                if (yamlDoc.working_dir) {\r\n                                    stateUpd._workingDir = yamlDoc.working_dir\r\n                                }\r\n\r\n                                if (yamlDoc.command) {\r\n                                    stateUpd._command = yamlDoc.command\r\n                                }\r\n\r\n                                if (yamlDoc.user) {\r\n                                    stateUpd._user = yamlDoc.user\r\n                                }\r\n                            }\r\n                            this.setState(stateUpd);\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_dockerImageId',\r\n                            id: '_dockerImageId',\r\n                        }}\r\n                    >\r\n                        {this.props.dockerImages.map(di => (\r\n                            <MenuItem key={di.id} value={di.id}>{di.name + (di.version.length > 0 ? \":\" + di.version : \"\")}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                    <div className=\"invalid-feedback\"></div>\r\n                </FormControl>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockEnvironementVariables\r\n     */\r\n    getDialogFormBlockEnvironementVariables() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <Grid container>\r\n                    <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                        <ListSubheader component=\"div\">Environement Variables</ListSubheader>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: 'right' }}>\r\n                        <Button color=\"primary\" style={{ marginTop: 8 }} onClick={(e) => {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: \"\",\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"env\",\r\n                                inputDialogLabel: \"Environement Variable (<NAME>=<VALUE>)\",\r\n                                inputDialogKey: null\r\n                            });\r\n                        }}>Add Env</Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <List dense={false} >\r\n                    {this.state._env.map((en, i) =>\r\n                        <ListItem key={\"env_\" + i} button onClick={function (value, index) {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: value,\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"env\",\r\n                                inputDialogLabel: \"Environement Variable (<NAME>=<VALUE>)\",\r\n                                inputDialogKey: index\r\n                            });\r\n                        }.bind(this, en, i)}>\r\n                            <CheckIcon />\r\n                            <ListItemText\r\n                                primary={en}\r\n                                secondary={null}\r\n                            />\r\n                            <ListItemSecondaryAction onClick={function (index) {\r\n                                this.state._env.splice(index, 1);\r\n                                this.setState({\r\n                                    _env: this.state._env\r\n                                });\r\n                            }.bind(this, i)}>\r\n                                <IconButton aria-label=\"Delete\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )}\r\n                    {this.state._env.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyDialogLine}>-none-</Typography>}\r\n                </List>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockVolumes\r\n     */\r\n    getDialogFormBlockVolumes() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <Grid container>\r\n                    <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                        <ListSubheader component=\"div\">Volumes</ListSubheader>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: 'right' }}>\r\n                        <Button color=\"primary\" style={{ marginTop: 8 }} onClick={(e) => {\r\n\r\n                            volumeDialog({\r\n                                submitLabel: \"Add\",\r\n                                volumeDescription: \"\",\r\n                                hostPath: \"\",\r\n                                containerPath: \"\",\r\n                                git: \"\",\r\n                                cmd: \"\",\r\n                                execOnEveryDeploy: false,\r\n                                currentVolumes: this.state._volumes,\r\n                                onDuplicate: () => {\r\n                                    this.props.notify(\"This container volume already exists\", \"error\");\r\n                                },\r\n                                onSubmit: async (volumeObj) => {\r\n                                    this.state._volumes.push(volumeObj);\r\n                                    this.setState({\r\n                                        _volumes: this.state._volumes\r\n                                    });\r\n                                }\r\n                            });\r\n\r\n                        }}>Add Volume</Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <List dense={false} >\r\n                    {this.state._volumes.map((en, i) =>\r\n                        <ListItem\r\n                            key={\"volume_\" + i}\r\n                            button\r\n                            onClick={function (vObj, index) {\r\n\r\n                                volumeDialog({\r\n                                    submitLabel: \"Set\",\r\n                                    hostPath: vObj.hostPath,\r\n                                    volumeDescription: vObj.volumeDescription ? vObj.volumeDescription : \"\",\r\n                                    containerPath: vObj.containerPath,\r\n                                    git: vObj.git,\r\n                                    cmd: vObj.cmd,\r\n                                    execOnEveryDeploy: vObj.execOnEveryDeploy ? true : false,\r\n                                    currentVolumes: this.state._volumes,\r\n                                    onDuplicate: () => {\r\n                                        this.props.notify(\"This container volume already exists\", \"error\");\r\n                                    },\r\n                                    onSubmit: async function (oldContainerPath, volumeObj) {\r\n                                        this.state._volumes = this.state._volumes.map(o => {\r\n                                            if (o.containerPath == oldContainerPath) {\r\n                                                return volumeObj;\r\n                                            } else {\r\n                                                return o;\r\n                                            }\r\n                                        });\r\n                                        this.setState({\r\n                                            _volumes: this.state._volumes\r\n                                        });\r\n                                    }.bind(this, vObj.containerPath)\r\n                                });\r\n\r\n                            }.bind(this, en, i)}>\r\n\r\n                            {/* <ListItemAvatar>\r\n                                <Avatar alt=\"Folder\" src=\"/folder_round.png\" />\r\n                            </ListItemAvatar> */}\r\n\r\n                            <FolderOpen />\r\n\r\n                            <ListItemText\r\n                                primary={en.hostPath}\r\n                                secondary={en.containerPath}\r\n                            />\r\n                            <ListItemSecondaryAction onClick={function (index) {\r\n                                this.state._volumes.splice(index, 1);\r\n                                this.setState({\r\n                                    _volumes: this.state._volumes\r\n                                });\r\n                            }.bind(this, i)}>\r\n                                <IconButton aria-label=\"Delete\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )}\r\n                    {this.state._volumes.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyDialogLine}>-none-</Typography>}\r\n                </List>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockDns\r\n     */\r\n    getDialogFormBlockDns() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <Grid container>\r\n                    <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                        <ListSubheader component=\"div\">DNS's</ListSubheader>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: 'right' }}>\r\n                        <Button color=\"primary\" style={{ marginTop: 8 }} onClick={(e) => {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: \"\",\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"dns\",\r\n                                inputDialogLabel: \"DNS\",\r\n                                inputDialogKey: null\r\n                            });\r\n                        }}>Add DNS</Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <List dense={false} >\r\n                    {this.state._dns.map((en, i) =>\r\n                        <ListItem key={\"dns_\" + i} button onClick={function (value, index) {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: value,\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"dns\",\r\n                                inputDialogLabel: \"DNS\",\r\n                                inputDialogKey: index\r\n                            });\r\n                        }.bind(this, en, i)}>\r\n                            <DnsIcon />\r\n                            <ListItemText\r\n                                primary={en}\r\n                                secondary={null}\r\n                            />\r\n                            <ListItemSecondaryAction onClick={function (index) {\r\n                                this.state._dns.splice(index, 1);\r\n                                this.setState({\r\n                                    _dns: this.state._dns\r\n                                });\r\n                            }.bind(this, i)}>\r\n                                <IconButton aria-label=\"Delete\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )}\r\n                    {this.state._dns.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyDialogLine}>-none-</Typography>}\r\n                </List>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockPorts\r\n     */\r\n    getDialogFormBlockPorts() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <Grid container>\r\n                    <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                        <ListSubheader component=\"div\">Ports</ListSubheader>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: 'right' }}>\r\n                        <Button color=\"primary\" style={{ marginTop: 8 }} onClick={(e) => {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: \"\",\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"port\",\r\n                                inputDialogLabel: \"Port mapping (<HOST>:<CONTAINER>)\",\r\n                                inputDialogKey: null\r\n                            });\r\n                        }}>Add Port</Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <List dense={false} >\r\n                    {this.state._ports.map((en, i) =>\r\n                        <ListItem key={\"port_\" + i} button onClick={function (value, index) {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: value,\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"port\",\r\n                                inputDialogLabel: \"Port mapping (<HOST>:<CONTAINER>)\",\r\n                                inputDialogKey: index\r\n                            });\r\n                        }.bind(this, en, i)}>\r\n                            <CheckIcon />\r\n                            <ListItemText\r\n                                primary={en}\r\n                                secondary={null}\r\n                            />\r\n                            <ListItemSecondaryAction onClick={function (index) {\r\n                                this.state._ports.splice(index, 1);\r\n                                this.setState({\r\n                                    _ports: this.state._ports\r\n                                });\r\n                            }.bind(this, i)}>\r\n                                <IconButton aria-label=\"Delete\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )}\r\n                    {this.state._ports.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyDialogLine}>-none-</Typography>}\r\n                </List>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Containers</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.containers.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n\r\n                        {this.props.containers.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }} colSpan={2}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} container\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            <div className={\"form-group\"}>\r\n                                <Grid container spacing={16}>\r\n                                    {this.getDialogFormBlockName()}\r\n                                    {/* {this.getDialogFormBlockNetworks()} */}\r\n                                    {this.getDialogFormBlockDockerImages()}\r\n\r\n                                    {this.getDialogFormBlockCommand()}\r\n                                    {this.getDialogFormBlockUser()}\r\n                                    {this.getDialogFormBlockWorkingDir()}\r\n                                    {this.props.containers.length > 0 && this.getDialogFormBlockDependsOn()}\r\n\r\n                                    {this.getDialogFormBlockVolumes()}\r\n                                    {this.getDialogFormBlockDns()}\r\n\r\n                                    {this.getDialogFormBlockEnvironementVariables()}\r\n                                    {this.getDialogFormBlockPorts()}\r\n                                </Grid>\r\n                            </div>\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n\r\n                {this.stringEditorDialog(null, (action) => {\r\n                    switch (action + \"_\" + this.state.inputDialogTarget) {\r\n                        case \"SAVE_env\":\r\n                            if (this.state.inputDialogKey != null) {\r\n                                this.state._env[this.state.inputDialogKey] = this.state.inputDialogValue;\r\n                                this.setState({\r\n                                    _env: this.state._env\r\n                                });\r\n                            } else {\r\n                                this.state._env.push(this.state.inputDialogValue);\r\n                                this.setState({\r\n                                    _env: this.state._env\r\n                                });\r\n                            }\r\n                            break;\r\n                        case \"SAVE_port\":\r\n                            if (this.state.inputDialogKey != null) {\r\n                                this.state._ports[this.state.inputDialogKey] = this.state.inputDialogValue;\r\n                                this.setState({\r\n                                    _ports: this.state._ports\r\n                                });\r\n                            } else {\r\n                                this.state._ports.push(this.state.inputDialogValue);\r\n                                this.setState({\r\n                                    _ports: this.state._ports\r\n                                });\r\n                            }\r\n                            break;\r\n                        case \"SAVE_dns\":\r\n                            if (this.state.inputDialogKey != null) {\r\n                                this.state._dns[this.state.inputDialogKey] = this.state.inputDialogValue;\r\n                                this.setState({\r\n                                    _dns: this.state._dns\r\n                                });\r\n                            } else {\r\n                                this.state._dns.push(this.state.inputDialogValue);\r\n                                this.setState({\r\n                                    _dns: this.state._dns\r\n                                });\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    this.setState({\r\n                        inputDialogOpen: false\r\n                    });\r\n                }, (value) => {\r\n                    let isValide;\r\n                    switch (this.state.inputDialogTarget) {\r\n                        case \"env\":\r\n                            isValide = ENV_REGEX.exec(value);\r\n                            if (isValide) {\r\n                                if (this.state.inputDialogKey != null) {\r\n                                    return null;\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            } else {\r\n                                return [\"Invalide Environement variable mapping\"];\r\n                            }\r\n                        case \"port\":\r\n                            isValide = PORT_MAPPING_REGEX.exec(value);\r\n                            if (isValide) {\r\n                                if (this.state.inputDialogKey != null) {\r\n                                    return null;\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            } else {\r\n                                return [\"Invalide port mapping\"];\r\n                            }\r\n                        case \"dns\":\r\n                            isValide = DNS_MAPPING_REGEX.exec(value);\r\n                            if (isValide) {\r\n                                if (this.state.inputDialogKey != null) {\r\n                                    return null;\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            } else {\r\n                                return [\"Invalide DNS\"];\r\n                            }\r\n                    }\r\n                })}\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    containers: state.containers,\r\n    networks: state.networks,\r\n    dockerImages: state.dockerImages,\r\n    nginxConfigs: state.nginxConfigs,\r\n    nginxDockerLinks: state.nginxDockerLinks,\r\n    solutionParameters: state.solutionParameters,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ConfigsTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport styles from '../styles.js';\r\nimport SharableView from '../../elements/SharableView/index';\r\n\r\nimport NetworksTable from '../../elements/TableEditors/networks';\r\nimport DockerImagesTable from '../../elements/TableEditors/dockerImages';\r\nimport ContainersTable from '../../elements/TableEditors/containers';\r\n\r\nimport { Button } from '@material-ui/core';\r\nimport AlertSnackbars from '../../elements/AlertBar/index';\r\n\r\nclass DockerPage extends React.Component {\r\n    sharedView = null\r\n\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            // loading: false\r\n            snackOpen: false,\r\n            snackMessage: \"\",\r\n            snackVariant: null\r\n        };\r\n    }\r\n\r\n    /**\r\n     * openSnack\r\n     * @param {*} message \r\n     * @param {*} variant \r\n     */\r\n    openSnack(message, variant) {\r\n        this.setState({ snackOpen: true, snackMessage: message, snackVariant: variant ? variant : \"success\" });\r\n    }\r\n\r\n    /**\r\n     * handleSnackClose\r\n     */\r\n    handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ snackOpen: false });\r\n    };\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        // If loged in, redirect to boardingpass page\r\n        if (!this.props.userSession.token) {\r\n            return <Redirect to='/login' />\r\n        }\r\n\r\n        return (\r\n            <SharableView\r\n                ref={(el) => this.sharedView = el}\r\n                history={this.props.history}\r\n                pageIndex={1}\r\n                notify={this.openSnack.bind(this)}\r\n            >\r\n                {/* Display editor */}\r\n                {/* {!this.state.loading &&  */}\r\n                <Grid item xs={12}>\r\n                    <Grid container spacing={16}>\r\n                        <Grid item xs={4}>\r\n                            <Grid container spacing={16}>\r\n                                <Grid item xs={12}>\r\n                                    <DockerImagesTable notify={this.openSnack.bind(this)}></DockerImagesTable>\r\n                                </Grid>\r\n                                {/* <Grid item xs={12}>\r\n                                    <NetworksTable notify={this.openSnack.bind(this)}></NetworksTable>\r\n                                </Grid> */}\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <ContainersTable notify={this.openSnack.bind(this)}></ContainersTable>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                {/* } */}\r\n\r\n                <AlertSnackbars\r\n                    open={this.state.snackOpen}\r\n                    handleClose={this.handleSnackClose}\r\n                    message={this.state.snackMessage}\r\n                    variant={this.state.snackVariant}\r\n                />\r\n\r\n            </SharableView>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    userSession: state.userSession\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DockerPage));","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Divider from '@material-ui/core/Divider';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ValidatorForm from \"../ValidationForm/index\";\nimport Grid from '@material-ui/core/Grid';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport ReactDOM from 'react-dom'\nimport API from \"../../../services/API\";\n\nexport default class CertificateUploadDialog extends React.Component {\n    static propTypes = {\n        buttons: PropTypes.array.isRequired,\n        willUnmount: PropTypes.func\n    }\n\n    static defaultProps = {\n        buttons: [\n            {\n                label: 'Cancel',\n                onClick: () => null\n            },\n            {\n                label: 'Upload',\n                onClick: () => null\n            }\n        ],\n        willUnmount: () => null\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            privkey: null,\n            cert: null\n        };\n    }\n\n    handleClickButton = async (doit) => {\n        if (doit) {\n            // Prepare form data\n            const data = new FormData();\n            data.append(\"privkey\", this.state.privkey);\n            data.append(\"cert\", this.state.cert);\n\n            try {\n                let response = await API.endpoints.Domains.uploadCertificate(this.props.domainId, data);\n                if (response.data.success) {\n                    this.props.notify(\"Certificate uploaded!\");\n                    this.props.onDone();\n                    this.close();\n                } else {\n                    this.props.notify(response.data.error, 'error');\n                }\n            } catch (err) {\n                this.props.notify(err.message, 'error');\n            }\n        } else {\n            this.close();\n        }\n    }\n\n    close = () => {\n        removeElementReconfirm();\n    }\n\n    keyboardClose = event => {\n        if (event.keyCode === 27) {\n            this.close()\n        }\n    }\n\n    componentDidMount = () => {\n        document.addEventListener('keydown', this.keyboardClose, false);\n    }\n\n    componentWillUnmount = () => {\n        document.removeEventListener('keydown', this.keyboardClose, false);\n        this.props.willUnmount()\n    }\n\n    handleFileSelected(name, event) {\n        if (event.target.files && event.target.files.length == 1) {\n            let fName = event.target.files[0].name;\n            if (fName.toLowerCase().endsWith(\".pem\") || fName.toLowerCase().endsWith(\".crt\")) {\n                this.setState({ [name]: event.target.files[0] });\n            } else {\n                this.props.notify(\"Invalide file format\", 'error');\n            }\n        }\n    }\n\n    openFileDialog(refName) {\n        var fileInputDom = ReactDOM.findDOMNode(this.refs[refName]);\n        fileInputDom.click()\n    }\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                onClose={this.close}\n                aria-labelledby=\"ssl-cert-upload-dialog-title\"\n                aria-describedby=\"ssl-cert-upload-dialog-description\"\n            >\n                <DialogTitle id=\"ssl-cert-upload-dialog-title\">Upload SSL certificate files</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"ssl-cert-upload-dialog-description\">\n                        Please upload the required certificate files for this domain. If you are using subdomains, make sure your certificate is a wild card certificate.\n                    </DialogContentText>\n                    <Divider style={{ marginTop: 10, marginBottom: 10 }} />\n                    <DialogContentText id=\"ssl-cert-upload-dialog-description\">\n                        Some of the browsers may consider the connection as unsafe, if there is no valid intermediate certificate. So, proper installation of intermediate certificate is a critical step.\n                       <br /><br />\n                        Most of the times, the primary certificate and intermediate certificate will be given as 2 different files.\n                        <br />\n                        For example, we combine the primary certificate and the intermediate certificate using the below command.\n                    </DialogContentText>\n                    <div style={{ backgroundColor: \"#eeeeee\", padding: 10, marginTop: 20, marginBottom: 20 }}>\n                        cat domain.crt domain_intermediate.ca-bundle >> ssl_bundle.crt\n                        </div>\n                    <ValidatorForm ref={form => (this.formEl = form)}>\n                        <Grid container alignItems=\"center\" style={{ marginTop: 20 }}>\n                            <Grid item xs={3} style={{ textAlign: 'right' }}>\n                                Private Key\n                            </Grid>\n                            <Grid item xs={3} style={{ textAlign: 'center' }}>\n                                <input\n                                    style={{ display: 'none' }}\n                                    type=\"file\"\n                                    ref={'ssl_privkey'}\n                                    onChange={this.handleFileSelected.bind(this, \"privkey\")}\n                                />\n                                <label htmlFor=\"raised-button-file\">\n                                    <Button variant=\"contained\" color={this.state['privkey'] ? 'primary' : 'default'} onClick={this.openFileDialog.bind(this, 'ssl_privkey')}>\n                                        {this.state['privkey'] ? 'SELECTED' : 'SELECT'}\n                                        <CloudUploadIcon style={{ marginLeft: 10 }} />\n                                    </Button>\n                                </label>\n                            </Grid>\n\n                            <Grid item xs={3} style={{ textAlign: 'right' }}>\n                                Certificate\n                            </Grid>\n                            <Grid item xs={3} style={{ textAlign: 'center' }}>\n                                <input\n                                    style={{ display: 'none' }}\n                                    type=\"file\"\n                                    ref={'ssl_cert'}\n                                    onChange={this.handleFileSelected.bind(this, \"cert\")}\n                                />\n                                <label htmlFor=\"raised-button-file\">\n                                    <Button variant=\"contained\" color={this.state['cert'] ? 'primary' : 'default'} onClick={this.openFileDialog.bind(this, 'ssl_cert')}>\n                                        {this.state['cert'] ? 'SELECTED' : 'SELECT'}\n                                        <CloudUploadIcon style={{ marginLeft: 10 }} />\n                                    </Button>\n                                </label>\n                            </Grid>\n                        </Grid>\n                    </ValidatorForm>\n                </DialogContent>\n                <DialogActions>\n                    {this.state.privkey && this.state.cert && <Button onClick={() => this.handleClickButton(true)}>\n                        Upload\n                    </Button>}\n                    <Button onClick={() => this.handleClickButton()}>\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\n\nfunction createElementReconfirm(properties) {\n    let divTarget = document.getElementById('react-ssl-cert-upload-dialog')\n    if (divTarget) {\n        // Rerender - the mounted CertificateUploadDialog\n        render(<CertificateUploadDialog {...properties} />, divTarget)\n    } else {\n        // Mount the CertificateUploadDialog component\n        document.body.children[0].classList.add('react-ssl-cert-upload-dialog-blur')\n        divTarget = document.createElement('div')\n        divTarget.id = 'react-ssl-cert-upload-dialog'\n        document.body.appendChild(divTarget)\n        render(<CertificateUploadDialog {...properties} />, divTarget)\n    }\n}\n\nfunction removeElementReconfirm() {\n    const target = document.getElementById('react-ssl-cert-upload-dialog')\n    unmountComponentAtNode(target)\n    target.parentNode.removeChild(target)\n}\n\nexport function certificateUploadDialog(properties) {\n    createElementReconfirm(properties)\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper, Grid, Button, TextField, Divider } from '@material-ui/core';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SSLIcon from '@material-ui/icons/Security';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport styles from './styles.js';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nimport { certificateUploadDialog } from '../Dialogs/CertificateUploadDialog';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass DomainsTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n        this.state.sslMissing = false;\r\n\r\n        this.state.defaultDomain = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    componentDidMount() {\r\n        // Wait for settings to be loaded by store to get the default domain\r\n        let settingsInterval = setInterval(() => {\r\n            if (this.props.settings.length > 0) {\r\n                this.setState({\r\n                    \"defaultDomain\": this.props.settings.find(s => s.name == 'defaultNginxDomain').value\r\n                });\r\n                clearInterval(settingsInterval);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_DOMAINS\";\r\n\r\n    tableRow(cellClasses, tableCellButton, isSelected, selectedId, row) {\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => {\r\n                this.handleRowClick(event, row.id);\r\n            }}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.value}</TableCell>\r\n            <TableCell className={cellClasses} padding=\"none\">\r\n                {row.httpsEnabled && <SSLIcon />}\r\n            </TableCell>\r\n            <TableCell className={tableCellButton}>\r\n                <Switch\r\n                    checked={(this.state.defaultDomain == row.value)}\r\n                    value={row.value}\r\n                    onChange={this.defaultDomainToggleEvent.bind(this)}\r\n                />\r\n            </TableCell>\r\n        </TableRow>;\r\n    }\r\n    /**\r\n     * defaultDomainToggleEvent\r\n     */\r\n    defaultDomainToggleEvent(event) {\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        let previousDefaultDomain = this.state.defaultDomain;\r\n        let checked = event.target && event.target.checked;\r\n        let value = event.target && event.target.value ? event.target.value : \"\";\r\n        (async () => {\r\n            this.setState({\r\n                \"defaultDomain\": checked ? value : null\r\n            });\r\n            let settingsUpdate = this.props.settings.find(s => s.name == 'defaultNginxDomain');\r\n            try {\r\n                settingsUpdate.value = checked ? value : \"\";\r\n                await API.endpoints.Settings.update(settingsUpdate);\r\n\r\n                let settingsClone = JSON.parse(JSON.stringify(this.props.settings));\r\n                settingsClone = settingsClone.map(sc => {\r\n                    if (sc.name == \"defaultNginxDomain\") {\r\n                        sc.value = checked ? value : \"\";\r\n                    }\r\n                    return sc;\r\n                });\r\n                this.props.dispatch({\r\n                    type: \"SET_SETTINGS\",\r\n                    data: settingsClone\r\n                });\r\n            } catch (err) {\r\n                settingsUpdate.value = previousDefaultDomain;\r\n                this.setState({\r\n                    \"defaultDomain\": previousDefaultDomain\r\n                });\r\n                this.props.notify(\"Could not save default domain, make sure the server is running.\", \"error\");\r\n            }\r\n        })();\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _value: selected && selected.value ? selected.value : \"\",\r\n            _httpsEnabled: selected && selected.httpsEnabled ? selected.httpsEnabled : false,\r\n            sslMissing: false\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            value: state._value,\r\n            httpsEnabled: state._httpsEnabled\r\n        }\r\n    }\r\n    tableHeader() {\r\n        return <TableRow>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Domain</TableCell>\r\n            <TableCell className={this.props.classes.tableHeaderCell} padding=\"none\">SSL</TableCell>\r\n            <TableCell className={[this.props.classes.tableCellButton, this.props.classes.tableHeaderCell].join(\" \")}>Is default</TableCell>\r\n        </TableRow>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockName\r\n     */\r\n    getDialogFormBlockName() {\r\n        return <Grid item xs={7} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"value\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._value}\r\n                    onChange={(e) => { this.setState({ _value: e.target.value }) }}\r\n                    label=\"Value (acme.com)\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    autoFocus\r\n                    required />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockHttpsOnly\r\n     */\r\n    getDialogFormBlockHttpsEnabled() {\r\n        return <Grid item xs={5} style={{ textAlign: 'right' }}>\r\n            {this.state._id &&\r\n                <FormControlLabel\r\n                    style={{ marginRight: 0 }}\r\n                    control={\r\n                        <Switch\r\n                            checked={this.state._httpsEnabled}\r\n                            onChange={(event) => {\r\n                                this.setState({ _httpsEnabled: event.target.checked });\r\n\r\n                                if (event.target.checked) {\r\n                                    this.props.setLoading(true);\r\n                                    API.endpoints.Domains.remote(\"checkDomainSslCert?domainId=\" + this.state._id, null, \"get\").then((checkDomain) => {\r\n                                        this.props.setLoading(false);\r\n                                        this.setState({ sslMissing: !checkDomain.data.configured });\r\n                                    }).catch((err) => {\r\n                                        this.props.setLoading(false);\r\n                                        this.props.notify(\"A server problem occured.\", \"error\");\r\n                                    });\r\n                                } else {\r\n                                    this.setState({ sslMissing: false });\r\n                                }\r\n                            }}\r\n                        />\r\n                    }\r\n                    label=\"HTTPS Enabled\"\r\n                />\r\n            }\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockUploadCertificates\r\n     */\r\n    getDialogFormBlockUploadCertificates() {\r\n        return this.state._httpsEnabled ? <Grid item xs={12} style={{ textAlign: 'right' }}>\r\n            <Typography gutterBottom variant=\"caption\">\r\n                If you have a certificate, upload it now\r\n            </Typography>\r\n            <Button color=\"primary\" variant=\"outlined\" onClick={(e) => {\r\n                certificateUploadDialog({\r\n                    notify: this.props.notify,\r\n                    domainId: this.state._id,\r\n                    onDone: async () => {\r\n                        this.setState({ sslMissing: false });\r\n                    }\r\n                });\r\n            }}>\r\n                Upload certificates\r\n            </Button>\r\n        </Grid> : null;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                if (this.props.domains.find(o => (!this.state._id || o.id != this.state._id) && o.value.toLowerCase() == this.state._value.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: domain name already in use.\", \"error\");\r\n                }\r\n\r\n                let modelObject = this.populateSelected(this.state);\r\n                try {\r\n                    let allOk = true;\r\n                    if (modelObject.httpsEnabled) {\r\n                        let checkDomain = await API.endpoints.Domains.remote(\"checkDomainSslCert?domainId=\" + this.state._id, null, \"get\");\r\n                        allOk = checkDomain.data.configured;\r\n                    }\r\n                    // If domain ssl ok or ssl not configured\r\n                    if (allOk) {\r\n                        if (this.state.mode === \"ADD\") {\r\n                            let dbResult = await API.endpoints.Domains.create(modelObject);\r\n                            this.props.dispatch({\r\n                                type: this.SET_DATA_REDUCER_ACTION,\r\n                                data: [...this.props.domains, dbResult]\r\n                            });\r\n                        } else {\r\n                            modelObject.id = this.state._id;\r\n                            let dbResult = await API.endpoints.Domains.update(modelObject);\r\n                            let updData = this.props.domains.map(o => {\r\n                                if (o.id === this.state._id) {\r\n                                    return dbResult;\r\n                                } else {\r\n                                    return o;\r\n                                }\r\n                            });\r\n\r\n                            this.props.dispatch({\r\n                                type: this.SET_DATA_REDUCER_ACTION,\r\n                                data: updData\r\n                            });\r\n                        }\r\n                        this.setState({ sslMissing: false });\r\n                        this.setSelected(null, null);\r\n                        this.props.notify(\"Saved\");\r\n                    }\r\n                    // Ssl not configured, show instructions\r\n                    else {\r\n                        this.setState({ sslMissing: true });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.props.nginxConfigs.find(o => o.domainId && o.domainId == this.state._id)) {\r\n            this.props.notify(`Conflict: Cannot delete because there is at least one nginx config that uses this domain.`, \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                await API.endpoints.Domains.deleteById(this.state._id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.domains.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.domains.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Domains</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Card className={classes.cardInfo}>\r\n                    <CardContent>\r\n                        <Typography>\r\n                            The default domain let's NGinx know what domain name to use for the psh-admin application access (instead of localhost).\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.domains.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, classes.tableCellButton, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n                        {this.props.domains.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }} colSpan={3}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                    scroll=\"paper\"\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} domain\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            <div className={\"form-group\"}>\r\n                                <Grid container spacing={16}>\r\n                                    {this.getDialogFormBlockName()}\r\n                                    {this.getDialogFormBlockHttpsEnabled()}\r\n                                    {this.getDialogFormBlockUploadCertificates()}\r\n                                </Grid>\r\n                            </div>\r\n                        </ValidatorForm>}\r\n                    </div>\r\n\r\n                    <DialogContent>\r\n                        {this.state.sslMissing && <div>\r\n                            <br />\r\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                Missing certificate for this domain!\r\n                            </Typography>\r\n                            <Card className={classes.card}>\r\n                                <CardContent>\r\n\r\n                                    <Typography component=\"p\">\r\n                                        <b>If I don't have a certificate for this domain:</b><br /><br />\r\n                                        The following instructions are specific for CloudFlare, this seems to be the best user experience when it comes to wildcard certificates with Letsencrypt.\r\n                                        Also, CloudFlare being free for 1 domain that you own is a good reason to use them as your domain DNS provider.\r\n                                        Couples with the flexibility of subdomains, this is enougth for most use cases.<br /><br />\r\n                                        Here are the instructions for you to follow in order to set up a Letsencrypt SSL certificate using certbot for your domain:\r\n                                    </Typography>\r\n                                    <div className=\"MuiTypography-body1-212\">\r\n                                        <br /><br />\r\n                                        <b>CloudFlare</b>\r\n                                        <ol>\r\n                                            <li>Configure your domain registrar Nameservers to match CloudFlares Nameservers (instructions provided when creating website on CloudFlare)</li>\r\n                                            <li>Add following DNS records to the domain <span style={{ color: \"blue\" }}>{this.state._value}</span>:<br />\r\n                                                <div style={{ color: \"#888888\", paddingLeft: 10 }}>\r\n                                                    <i>A: * => YOUR SERVER PUBLIC IP ADDRESS</i> => TTL 2 Minutes<br />\r\n                                                    <i>A: {this.state._value} => YOUR SERVER PUBLIC IP ADDRESS => TTL 2 Minutes</i> (set DNS only mode)<br />\r\n                                                    <i>A: www => YOUR SERVER PUBLIC IP ADDRESS => TTL 2 Minutes</i> (set DNS only mode)\r\n                                            </div>\r\n                                            </li>\r\n                                            <li>\r\n                                                Get your CloudFlare Global API Key, save it in a file on your server <span style={{ color: \"orange\" }}>(ex. /root/.secrets/cloudflare.ini)</span> with the following content: <br />\r\n                                                <div style={{ color: \"#888888\", paddingLeft: 10 }}>\r\n                                                    <i>dns_cloudflare_email = \"youremail@example.com\"</i><br />\r\n                                                    <i>dns_cloudflare_api_key = \"your cloudflare api key here\"</i>\r\n                                                </div>\r\n                                            </li>\r\n                                            <li>Set the SSL mode to <b>Full</b> under the <i>Crypto</i> section for the domain</li>\r\n                                            <li><i>Disable Universal SSL</i> option under the <i>Crypto</i> section for the domain</li>\r\n                                        </ol>\r\n                                    </div>\r\n                                    <div className=\"MuiTypography-body1-212\">\r\n                                        <b>SSL setup</b>\r\n                                        <ol>\r\n                                            <li>SSH into your server</li>\r\n                                            <li>Execute the command:<br />\r\n                                                <div style={{ color: \"#888888\", paddingLeft: 10 }}>\r\n                                                    <i>certbot certonly --dns-cloudflare --dns-cloudflare-credentials <span style={{ color: \"orange\" }}>/root/.secrets/cloudflare.ini</span> -d {this.state._value},*.{this.state._value} --preferred-challenges dns-01</i>\r\n                                                </div>\r\n                                            </li>\r\n                                            <li>To auto-renew certificate, open crontab editor: crontab -e</li>\r\n                                            <li>Add the following line at the end:<br />\r\n                                                <div style={{ color: \"#888888\", paddingLeft: 10 }}>\r\n                                                    <i>14 5 * * * /usr/local/bin/certbot renew --quiet --post-hook \"docker container exec psh_nginx nginx -s reload\" > /dev/null 2>&1</i>\r\n                                                </div>\r\n                                            </li>\r\n                                            <li>Once done try to save your domain again with the SSL flag enabled</li>\r\n                                        </ol>\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </div>}\r\n                        {!this.state.sslMissing && <Typography gutterBottom variant=\"body1\" component=\"h2\">\r\n                            Certificate configured!\r\n                            </Typography>}\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    domains: state.domains,\r\n    settings: state.settings,\r\n    nginxConfigs: state.nginxConfigs,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DomainsTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper, Grid, Button, TextField, Divider } from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport styles from './styles.js';\r\n\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass BasicAuthTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_BASICAUTH\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.username}</TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _username: selected && selected.username ? selected.username : \"\",\r\n            _password: selected && selected.password ? selected.password : \"\"\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            username: state._username,\r\n            password: state._password\r\n        }\r\n    }\r\n    tableHeader() {\r\n        return <TableRow>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Username</TableCell>\r\n        </TableRow>;\r\n    }\r\n    generateFormContent() {\r\n        return <div className={\"form-group\"}>\r\n            <Grid container spacing={16}>\r\n                <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            name=\"username\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._username}\r\n                            onChange={(e) => { this.setState({ _username: e.target.value }) }}\r\n                            label=\"User name\"\r\n                            type=\"text\"\r\n                            fullWidth\r\n                            autoFocus\r\n                            required />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n                    <div className={\"form-group\"}>\r\n                        <TextField\r\n                            name=\"password\"\r\n                            className={\"form-control\"}\r\n                            value={this.state._password}\r\n                            onChange={(e) => { this.setState({ _password: e.target.value }) }}\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            fullWidth\r\n                            required />\r\n                        <div className=\"invalid-feedback\"></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                if (this.props.basicAuth.find(o => (!this.state._id || o.id != this.state._id) && o.username.toLowerCase() == this.state._username.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: Basic Auth username already in use.\", \"error\");\r\n                }\r\n\r\n                let modelObject = this.populateSelected(this.state);\r\n\r\n                try {\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.BasicAuths.create(modelObject);\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.basicAuth, dbResult]\r\n                        });\r\n                    } else {\r\n                        modelObject.id = this.state._id;\r\n                        let dbResult = await API.endpoints.BasicAuths.update(modelObject);\r\n                        let updData = this.props.basicAuth.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.props.nginxConfigs.find(c => c.basicAuthId == this.state._id)) {\r\n            return this.props.notify(\"Conflict: this auth user is used by at least one nginx configuration.\", \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                await API.endpoints.BasicAuths.deleteById(this.state._id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.basicAuth.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.basicAuth.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * submitForm\r\n     */\r\n    // submitForm() {\r\n    // this.setState({\r\n    //     saving: true\r\n    // });\r\n\r\n    // API.endpoints.Flights.remote(\"processPendingPointEventData\", null, \"POST\", { ...this.state, flightId: this.props.event.flight ? this.props.event.flight.id : null, eventId: this.props.event.id, uid: this.props.event.userMembership.alpUser.id }).then((result) => {\r\n    //     this.props.doneEditing(result.data);\r\n    // }).catch((err) => {\r\n    //     this.setState({\r\n    //         saving: false\r\n    //     });\r\n    //     this.props.errorEditing();\r\n    // });\r\n    // }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Basic Auth Users</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.basicAuth.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n\r\n                        {this.props.basicAuth.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} basic auth user\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            {this.generateFormContent()}\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    basicAuth: state.basicAuth,\r\n    nginxConfigs: state.nginxConfigs,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(BasicAuthTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Paper,\r\n    Grid,\r\n    Button,\r\n    TextField,\r\n    Divider,\r\n    ListItemText,\r\n    List,\r\n    ListItem,\r\n    ListSubheader,\r\n    ListItemSecondaryAction,\r\n    Dialog,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    IconButton\r\n} from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport styles from './styles.js';\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport CheckIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n};\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass NginxPresetsTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormFromObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.state.inputDialogOpen = false;\r\n        this.state.inputDialogLabel = \"\";\r\n        this.state.inputDialogTarget = \"\";\r\n        this.state.inputDialogValue = \"\";\r\n        this.state.inputDialogKey = \"\";\r\n        this.state.inputDialogValueErrors = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_NGINX_PRESET_PARAMS\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n\r\n            <TableCell className={cellClasses}>{row.name}</TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormFromObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _name: selected && selected.name ? selected.name : \"\",\r\n            _list: selected && selected.list ? selected.list : [],\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            name: state._name,\r\n            list: state._list\r\n        }\r\n    }\r\n    tableHeader() {\r\n        // return <TableRow>\r\n        //     <TableCell>Name</TableCell>\r\n        // </TableRow>;\r\n        return null;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormFromObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                if (this.props.nginxPresetParams.find(o => (!this.state._id || o.id != this.state._id) && o.name.toLowerCase() == this.state._name.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: nginx preset params name already in use.\", \"error\");\r\n                }\r\n\r\n                let modelObject = this.populateSelected(this.state);\r\n\r\n                try {\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.NginxPresetParams.create(modelObject);\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.nginxPresetParams, dbResult]\r\n                        });\r\n                    } else {\r\n                        modelObject.id = this.state._id;\r\n                        let dbResult = await API.endpoints.NginxPresetParams.update(modelObject);\r\n                        let updData = this.props.nginxPresetParams.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        if (this.props.nginxConfigs.find(o => o.nginxPresetParamsId && o.nginxPresetParamsId == this.state._id)) {\r\n            this.props.notify(`Conflict: Cannot delete because there is at least one nginx config that uses this preset params.`, \"error\");\r\n        } else {\r\n            // Confirm delete\r\n            confirmAlert({\r\n                title: null,\r\n                message: 'Are you sure you want to delete this?',\r\n                buttons: [\r\n                    {\r\n                        label: 'Yes',\r\n                        onClick: async () => {\r\n                            try {\r\n                                await API.endpoints.NginxPresetParams.deleteById(this.state._id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: this.SET_DATA_REDUCER_ACTION,\r\n                                    data: this.props.nginxPresetParams.filter(o => {\r\n                                        return o.id != this.state._id\r\n                                    })\r\n                                });\r\n                                this.setSelected(null, null);\r\n                                this.props.notify(\"Deleted\");\r\n                            }\r\n                            catch (err) {\r\n                                console.log(\"ERROR =>\", err);\r\n                                this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'No',\r\n                        onClick: () => {\r\n\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.nginxPresetParams.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * stringEditorDialog\r\n     */\r\n    stringEditorDialog(text, handleClose, validator) {\r\n        return <Dialog\r\n            open={this.state.inputDialogOpen}\r\n            onClose={handleClose.bind(this, \"CANCEL\")}\r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                {text && <DialogContentText>{text}</DialogContentText>}\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label={this.state.inputDialogLabel}\r\n                    type=\"text\"\r\n                    value={this.state.inputDialogValue}\r\n                    onChange={(e) => {\r\n                        this.setState({ inputDialogValue: e.target.value })\r\n                    }}\r\n                    style={{ width: 500 }}\r\n                />\r\n                {this.state.inputDialogValueErrors && this.state.inputDialogValueErrors.map((error, i) => <div key={\"err_\" + i} style={{\r\n                    color: \"red\",\r\n                    fontSize: 12\r\n                }}>{error}</div>)}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose.bind(this, \"CANCEL\")} color=\"primary\">\r\n                    Cancel\r\n            </Button>\r\n                <Button onClick={() => {\r\n                    if (validator) {\r\n                        let validationErrors = validator(this.state.inputDialogValue);\r\n                        if (validationErrors) {\r\n                            this.setState({ inputDialogValueErrors: validationErrors })\r\n                        } else {\r\n                            handleClose(\"SAVE\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        handleClose(\"SAVE\");\r\n                    }\r\n                }} color=\"primary\">\r\n                    Save\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockName\r\n     */\r\n    getDialogFormBlockName() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"name\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._name}\r\n                    onChange={(e) => { this.setState({ _name: e.target.value }) }}\r\n                    label=\"Identifier name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    autoFocus\r\n                    required />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockEnvironementVariables\r\n     */\r\n    getDialogFormBlockParamssList() {\r\n        return <Grid item xs={12} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <Grid container>\r\n                    <Grid item xs={6} style={{ textAlign: 'left' }}>\r\n                        <ListSubheader component=\"div\">Nginx block params</ListSubheader>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: 'right' }}>\r\n                        <Button color=\"primary\" style={{ marginTop: 8 }} onClick={(e) => {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: \"\",\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"list\",\r\n                                inputDialogLabel: \"Nginx block params\",\r\n                                inputDialogKey: null\r\n                            });\r\n                        }}>Add param line</Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <List dense={false} >\r\n                    {this.state._list.map((en, i) =>\r\n                        <ListItem key={\"blockparam_\" + i} button onClick={function (value, index) {\r\n                            this.setState({\r\n                                inputDialogOpen: true,\r\n                                inputDialogValue: value,\r\n                                inputDialogValueErrors: null,\r\n                                inputDialogTarget: \"list\",\r\n                                inputDialogLabel: \"Nginx block params\",\r\n                                inputDialogKey: index\r\n                            });\r\n                        }.bind(this, en, i)}>\r\n                            <CheckIcon />\r\n                            <ListItemText\r\n                                primary={en}\r\n                                secondary={null}\r\n                            />\r\n                            <ListItemSecondaryAction onClick={function (index) {\r\n                                this.state._list.splice(index, 1);\r\n                                this.setState({\r\n                                    _list: this.state._list\r\n                                });\r\n                            }.bind(this, i)}>\r\n                                <IconButton aria-label=\"Delete\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    )}\r\n                    {this.state._list.length == 0 && <Typography variant=\"caption\" className={this.props.classes.emptyDialogLine}>-none-</Typography>}\r\n                </List>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Config preset parameters</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.setSelected.bind(this, \"ADD\", {})}>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.nginxPresetParams.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n                        {this.props.nginxPresetParams.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} params\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            <div className={\"form-group\"}>\r\n                                <Grid container spacing={16}>\r\n                                    {this.getDialogFormBlockName()}\r\n                                    {this.getDialogFormBlockParamssList()}\r\n                                </Grid>\r\n                            </div>\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n                {this.stringEditorDialog(null, (action) => {\r\n                    switch (action + \"_\" + this.state.inputDialogTarget) {\r\n                        case \"SAVE_list\":\r\n                            if (this.state.inputDialogKey != null) {\r\n                                this.state._list[this.state.inputDialogKey] = this.state.inputDialogValue;\r\n                                this.setState({\r\n                                    _list: this.state._list\r\n                                });\r\n                            } else {\r\n                                this.state._list.push(this.state.inputDialogValue);\r\n                                this.setState({\r\n                                    _list: this.state._list\r\n                                });\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    this.setState({\r\n                        inputDialogOpen: false\r\n                    });\r\n                }, (value) => {\r\n                    let isValide;\r\n                    switch (this.state.inputDialogTarget) {\r\n                        case \"list\":\r\n                            if (value.length == 0) {\r\n                                return [\"Required\"];\r\n                            }\r\n                            return null;\r\n                    }\r\n                })}\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    nginxPresetParams: state.nginxPresetParams,\r\n    nginxConfigs: state.nginxConfigs,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NginxPresetsTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Paper,\r\n    Grid,\r\n    FormControl,\r\n    Button,\r\n    TextField,\r\n    Select,\r\n    MenuItem,\r\n    InputLabel,\r\n    Checkbox,\r\n    ListItemText,\r\n    Divider,\r\n    Dialog,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    IconButton\r\n} from '@material-ui/core';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ValidatorForm from \"../ValidationForm/index\";\r\nimport API from \"../../../services/API\";\r\nimport { confirmAlert } from '../Dialogs/AlertDialog';\r\nimport styles from './styles.js';\r\n\r\nimport CheckIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nlet SAFE_STRING_REGEX = /([^A-Za-z0-9_]+)/;\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n};\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass NginxPresetsTable extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = this.populateEditorFormObject();\r\n        this.state.selected = null;\r\n        this.state.mode = null;\r\n\r\n        this.state.inputDialogOpen = false;\r\n        this.state.inputDialogLabel = \"\";\r\n        this.state.inputDialogTarget = \"\";\r\n        this.state.inputDialogValue = \"\";\r\n        this.state.inputDialogKey = \"\";\r\n        this.state.inputDialogValueErrors = null;\r\n\r\n        this.tblClickDebouncer = null;\r\n    }\r\n\r\n    // *****************************************************************\r\n    SET_DATA_REDUCER_ACTION = \"SET_NGINX_CONFIGS\";\r\n    tableRow(cellClasses, isSelected, selectedId, row) {\r\n        let domain = this.props.domains.find(o => o.id == row.domainId);\r\n        return <TableRow hover key={row.id}\r\n            className={isSelected ? \"\" : \"hoverPointer\"}\r\n            onClick={event => this.handleRowClick(event, row.id)}\r\n            selected={selectedId && selectedId === row.id}>\r\n            <TableCell className={cellClasses}>{row.name}</TableCell>\r\n            <TableCell className={[cellClasses, this.props.classes.tableCellButton].join(\" \")}>{\r\n                domain ? `${domain.httpsEnabled ? \"https\" : \"http\"}://${row.asSubdomain ? row.subdomain + \".\" : \"\"}${domain.value}${row.uriPath.length > 0 ? ((row.uriPath.indexOf('/') == -1 ? \"/\" : \"\") + row.uriPath) : \"\"}` : ''\r\n            }</TableCell>\r\n        </TableRow>;\r\n    }\r\n    populateEditorFormObject(selected) {\r\n        return {\r\n            _id: selected && selected.id ? selected.id : null,\r\n            _name: selected && selected.name ? selected.name : \"\",\r\n            _uriPath: selected && selected.uriPath ? selected.uriPath : \"\",\r\n            _port: selected && selected.port ? selected.port : \"\",\r\n            _asSubdomain: selected && selected.asSubdomain ? true : false,\r\n            _subdomain: selected && selected.subdomain ? selected.subdomain : \"\",\r\n            _proxyPath: selected && selected.proxyPath ? selected.proxyPath : \"\",\r\n            _nginxPresetParamsId: selected && selected.nginxPresetParamsId ? selected.nginxPresetParamsId : \"\",\r\n            _domainId: selected && selected.domainId ? selected.domainId : \"\",\r\n            _basicAuthId: selected && selected.basicAuthId ? selected.basicAuthId : \"\",\r\n            _serverTarget: selected && selected.serverTarget ? selected.serverTarget : \"c\",\r\n            _selectedContainers: selected && selected.id ? this.props.nginxDockerLinks.filter(ndl => ndl.nginxConfigId == selected.id).map(ndl => ndl.containerId) : []\r\n        }\r\n    }\r\n    populateSelected(state) {\r\n        return {\r\n            name: state._name,\r\n            uriPath: state._uriPath,\r\n            port: state._port,\r\n            asSubdomain: state._asSubdomain,\r\n            subdomain: state._subdomain,\r\n            proxyPath: state._proxyPath,\r\n            serverTarget: state._serverTarget,\r\n            nginxPresetParamsId: state._nginxPresetParamsId ? state._nginxPresetParamsId : null,\r\n            domainId: state._domainId ? state._domainId : null,\r\n            basicAuthId: state._basicAuthId ? state._basicAuthId : null\r\n        }\r\n    }\r\n    tableHeader() {\r\n        return <TableRow>\r\n            <TableCell className={this.props.classes.tableHeaderCell}>Name</TableCell>\r\n            <TableCell className={[this.props.classes.tableCellButton, this.props.classes.tableHeaderCell].join(\" \")}>URL</TableCell>\r\n        </TableRow>;\r\n    }\r\n    // *****************************************************************\r\n\r\n    /**\r\n     * handleDialogClose\r\n     */\r\n    handleDialogClose = () => {\r\n        this.setSelected(null, null);\r\n    };\r\n\r\n    /**\r\n    * setSelected\r\n    * @param {*} mode \r\n    */\r\n    setSelected(mode, selected) {\r\n        let stateData = this.populateEditorFormObject(selected);\r\n        stateData.selected = selected;\r\n        stateData.mode = mode;\r\n        this.setState(stateData);\r\n    }\r\n\r\n    /**\r\n     * saveDialogData\r\n     */\r\n    saveDialogData = () => {\r\n        (async () => {\r\n            let isValide = this.formEl.validate();\r\n            if (isValide) {\r\n                // Extra validation first\r\n                if (SAFE_STRING_REGEX.exec(this.state._name)) {\r\n                    return this.props.notify(\"Error: nginx name must contain only letters, numbers or underscore.\", \"error\");\r\n                }\r\n                if (this.props.nginxConfigs.find(o => (!this.state._id || o.id != this.state._id) && o.name.toLowerCase() == this.state._name.toLowerCase())) {\r\n                    return this.props.notify(\"Conflict: nginx config name already in use.\", \"error\");\r\n                }\r\n                if (this.state._serverTarget == \"h\" && (this.state._port == \"16199\" || this.state._port == \"80\" || this.state._port == \"443\" || this.state._port == \"9443\")) {\r\n                    return this.props.notify(\"Conflict: Host ports 16199, 80 & 443 are reserved ports.\", \"error\");\r\n                }\r\n                if (this.state._asSubdomain && (!this.state._domainId || this.state._domainId.length == 0)) {\r\n                    return this.props.notify(\"Error: You need to specify a domain since you configured a subdomain.\", \"error\");\r\n                }\r\n\r\n                let modelObject = this.populateSelected(this.state);\r\n                try {\r\n                    // On ADD config\r\n                    if (this.state.mode === \"ADD\") {\r\n                        let dbResult = await API.endpoints.NginxConfigs.create(modelObject);\r\n\r\n                        // Create NginxDocker links\r\n                        if (this.state._selectedContainers.length > 0) {\r\n                            for (let i = 0; i < this.state._selectedContainers.length; i++) {\r\n                                let nginxDockerLink = await API.endpoints.NginxDockerLinks.create({\r\n                                    containerId: this.state._selectedContainers[i],\r\n                                    nginxConfigId: dbResult.id\r\n                                });\r\n\r\n                                this.props.dispatch({\r\n                                    type: \"ADD_NGINX_DOCKER_LINKS\",\r\n                                    data: [nginxDockerLink]\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        // Update local store for nginx configs\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: [...this.props.nginxConfigs, dbResult]\r\n                        });\r\n                    }\r\n                    // On UPDATE config\r\n                    else {\r\n                        // Update NGinx config object\r\n                        modelObject.id = this.state._id;\r\n                        let dbResult = await API.endpoints.NginxConfigs.update(modelObject);\r\n                        let updData = this.props.nginxConfigs.map(o => {\r\n                            if (o.id === this.state._id) {\r\n                                return dbResult;\r\n                            } else {\r\n                                return o;\r\n                            }\r\n                        });\r\n\r\n                        // Look for existing links to manipulate\r\n                        let nginxDockerLinks = await API.endpoints.NginxDockerLinks.getAll({\r\n                            \"where\": {\r\n                                \"nginxConfigId\": this.state._id\r\n                            }\r\n                        });\r\n\r\n                        // Now update links\r\n                        for (let i = 0; i < nginxDockerLinks.length; i++) {\r\n                            // link exists, but is not required anymore\r\n                            if (this.state._selectedContainers.indexOf(nginxDockerLinks[i].containerId) == -1) {\r\n                                await API.endpoints.NginxDockerLinks.deleteById(nginxDockerLinks[i].id);\r\n\r\n                                this.props.dispatch({\r\n                                    type: \"DELETE_NGINX_DOCKER_LINK\",\r\n                                    data: nginxDockerLinks[i].id\r\n                                });\r\n                            }\r\n                        }\r\n                        for (let i = 0; i < this.state._selectedContainers.length; i++) {\r\n                            // If a selected container link does not exist yet, we create it now\r\n                            if (nginxDockerLinks.find(ndl => ndl.containerId == this.state._selectedContainers[i]) == null) {\r\n                                let nginxDockerLink = await API.endpoints.NginxDockerLinks.create({\r\n                                    containerId: this.state._selectedContainers[i],\r\n                                    nginxConfigId: this.state._id\r\n                                });\r\n\r\n                                this.props.dispatch({\r\n                                    type: \"ADD_NGINX_DOCKER_LINKS\",\r\n                                    data: [nginxDockerLink]\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        // Update local store for containers\r\n                        let containers = await API.endpoints.Containers.getAll();\r\n                        this.props.dispatch({\r\n                            type: \"SET_CONTAINERS\",\r\n                            data: containers\r\n                        });\r\n\r\n                        // Update local store for nginx configs\r\n                        this.props.dispatch({\r\n                            type: this.SET_DATA_REDUCER_ACTION,\r\n                            data: updData\r\n                        });\r\n                    }\r\n                    this.setSelected(null, null);\r\n                    this.props.notify(\"Saved\");\r\n                }\r\n                catch (err) {\r\n                    console.log(\"ERROR =>\", err);\r\n                    this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                };\r\n            }\r\n        })();\r\n    }\r\n\r\n    /**\r\n     * deleteDialogData\r\n     */\r\n    deleteDialogData = async () => {\r\n        // Confirm delete\r\n        confirmAlert({\r\n            title: null,\r\n            message: 'Are you sure you want to delete this?',\r\n            buttons: [\r\n                {\r\n                    label: 'Yes',\r\n                    onClick: async () => {\r\n                        try {\r\n                            // Update containers links first\r\n                            let cUpdated = false;\r\n                            for (let i = 0; i < this.props.nginxDockerLinks.length; i++) {\r\n                                if (this.props.nginxDockerLinks[i].nginxConfigId == this.state._id) {\r\n                                    await API.endpoints.NginxDockerLinks.deleteById(this.props.nginxDockerLinks[i].id);\r\n                                    cUpdated = true;\r\n                                }\r\n                            }\r\n\r\n                            if (cUpdated) {\r\n                                let nginxDockerLinks = await API.endpoints.NginxDockerLinks.getAll();\r\n                                this.props.dispatch({\r\n                                    type: \"SET_NGINX_DOCKER_LINKS\",\r\n                                    data: nginxDockerLinks\r\n                                });\r\n                            }\r\n\r\n                            // Now delete config\r\n                            await API.endpoints.NginxConfigs.deleteById(this.state._id);\r\n                            this.props.dispatch({\r\n                                type: this.SET_DATA_REDUCER_ACTION,\r\n                                data: this.props.nginxConfigs.filter(o => {\r\n                                    return o.id != this.state._id\r\n                                })\r\n                            });\r\n                            this.setSelected(null, null);\r\n                            this.props.notify(\"Deleted\");\r\n                        }\r\n                        catch (err) {\r\n                            console.log(\"ERROR =>\", err);\r\n                            this.props.notify(\"An error occured, make sure the server is running.\", \"error\");\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    label: 'No',\r\n                    onClick: () => {\r\n\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    /**\r\n     * handleRowClick\r\n     */\r\n    handleRowClick(event, id) {\r\n        let selectedItem = this.props.nginxConfigs.find(o => o.id === id);\r\n        if (this.state.selected && this.state._id === selectedItem.id) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ selected: null });\r\n\r\n        if (this.tblClickDebouncer) {\r\n            clearTimeout(this.tblClickDebouncer);\r\n        }\r\n\r\n        this.tblClickDebouncer = setTimeout(function (si) {\r\n            this.tblClickDebouncer = null;\r\n            this.setSelected(\"EDIT\", JSON.parse(JSON.stringify(si)));\r\n        }.bind(this, selectedItem), 200);\r\n    }\r\n\r\n    /**\r\n     * stringEditorDialog\r\n     */\r\n    stringEditorDialog(text, handleClose, validator) {\r\n        return <Dialog\r\n            open={this.state.inputDialogOpen}\r\n            onClose={handleClose.bind(this, \"CANCEL\")}\r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogContent>\r\n                {text && <DialogContentText>{text}</DialogContentText>}\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label={this.state.inputDialogLabel}\r\n                    type=\"text\"\r\n                    value={this.state.inputDialogValue}\r\n                    onChange={(e) => {\r\n                        this.setState({ inputDialogValue: e.target.value })\r\n                    }}\r\n                    style={{ width: 500 }}\r\n                />\r\n                {this.state.inputDialogValueErrors && this.state.inputDialogValueErrors.map((error, i) => <div key={\"err_\" + i} style={{\r\n                    color: \"red\",\r\n                    fontSize: 12\r\n                }}>{error}</div>)}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose.bind(this, \"CANCEL\")} color=\"primary\">\r\n                    Cancel\r\n            </Button>\r\n                <Button onClick={() => {\r\n                    if (validator) {\r\n                        let validationErrors = validator(this.state.inputDialogValue);\r\n                        if (validationErrors) {\r\n                            this.setState({ inputDialogValueErrors: validationErrors })\r\n                        } else {\r\n                            handleClose(\"SAVE\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        handleClose(\"SAVE\");\r\n                    }\r\n                }} color=\"primary\">\r\n                    Save\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockUriPath\r\n     */\r\n    getDialogFormBlockUriPath() {\r\n        return <Grid item xs={8} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"_uriPath\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._uriPath}\r\n                    onChange={(e) => { this.setState({ _uriPath: e.target.value }) }}\r\n                    label=\"URI path\"\r\n                    type=\"text\" />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockName\r\n     */\r\n    getDialogFormBlockName() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    name=\"_name\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._name}\r\n                    onChange={(e) => { this.setState({ _name: e.target.value }) }}\r\n                    label=\"Config name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    required />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockPort\r\n     */\r\n    getDialogFormBlockPort() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"}>\r\n\r\n                <TextField\r\n                    name=\"_port\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._port}\r\n                    onChange={(e) => { this.setState({ _port: e.target.value }) }}\r\n                    label={this.state._serverTarget == 'c' ? \"Container port\" : \"Host port\"}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    autoFocus\r\n                    required />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockIsSubdomain\r\n     */\r\n    getDialogFormBlockIsSubdomain() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <FormGroup row>\r\n                <FormControlLabel\r\n                    control={\r\n                        <Switch\r\n                            checked={this.state._asSubdomain}\r\n                            onChange={(event) => {\r\n                                this.setState({ _asSubdomain: event.target.checked, _subdomain: \"\" });\r\n                            }}\r\n                        />\r\n                    }\r\n                    label=\"Subdomain\"\r\n                />\r\n            </FormGroup>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockSubdomain\r\n     */\r\n    getDialogFormBlockSubdomain() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            {this.state._asSubdomain && <div className={\"form-group\"}>\r\n                <TextField\r\n                    required\r\n                    name=\"_subdomain\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._subdomain}\r\n                    onChange={(e) => {\r\n                        this.setState({ _subdomain: e.target.value });\r\n                    }}\r\n                    label=\"Subdomain\"\r\n                    type=\"text\"\r\n                    fullWidth />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>}\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockEnvironementVariables\r\n     */\r\n    getDialogFormBlockPresetParams() {\r\n        return <Grid item xs={8} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_nginxPresetParamsId\">NGinx preset configuration</InputLabel>\r\n                    <Select\r\n                        value={this.state._nginxPresetParamsId}\r\n                        onChange={(event) => {\r\n                            this.setState({ [event.target.name]: event.target.value });\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_nginxPresetParamsId',\r\n                            id: '_nginxPresetParamsId',\r\n                        }}\r\n                        fullWidth\r\n                    >\r\n                        <MenuItem value=\"\">\r\n                            <em>None</em>\r\n                        </MenuItem>\r\n\r\n                        {this.props.nginxPresetParams.map(psItem => (\r\n                            <MenuItem key={\"ngparam_\" + psItem.id} value={psItem.id}>{psItem.name}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockDomain\r\n     */\r\n    getDialogFormBlockDomain() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_domainId\">Domain</InputLabel>\r\n                    <Select\r\n                        value={this.state._domainId}\r\n                        onChange={(event) => {\r\n                            this.setState({ [event.target.name]: event.target.value });\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_domainId',\r\n                            id: '_domainId',\r\n                        }}\r\n                        fullWidth\r\n                    >\r\n                        <MenuItem value=\"\">\r\n                            <em>None</em>\r\n                        </MenuItem>\r\n\r\n                        {this.props.domains.map(domain => (\r\n                            <MenuItem key={\"domain_\" + domain.id} value={domain.id}>{domain.value}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                    <div className=\"invalid-feedback\"></div>\r\n                </FormControl>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockBasicAuth\r\n     */\r\n    getDialogFormBlockBasicAuth() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_basicAuthId\">Basic Auth User</InputLabel>\r\n                    <Select\r\n                        value={this.state._basicAuthId}\r\n                        onChange={(event) => {\r\n                            this.setState({ [event.target.name]: event.target.value });\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_basicAuthId',\r\n                            id: '_basicAuthId',\r\n                        }}\r\n                        fullWidth\r\n                    >\r\n                        <MenuItem value=\"\">\r\n                            <em>None</em>\r\n                        </MenuItem>\r\n\r\n                        {this.props.basicAuth.map(basicAuth => (\r\n                            <MenuItem key={\"basicAuth_\" + basicAuth.id} value={basicAuth.id}>{basicAuth.username}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                    <div className=\"invalid-feedback\"></div>\r\n                </FormControl>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockServerType\r\n     */\r\n    getDialogFormBlockServerTarget() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_serverTarget\">Target server type</InputLabel>\r\n                    <Select\r\n                        required\r\n                        value={this.state._serverTarget}\r\n                        onChange={(event) => {\r\n                            let stateUpd = { [event.target.name]: event.target.value };\r\n                            if (event.target.value != 'c') {\r\n                                stateUpd._selectedContainers = [];\r\n                            }\r\n                            if (event.target.value != 'e') {\r\n                                stateUpd._port = \"\";\r\n                            }\r\n                            this.setState(stateUpd);\r\n                        }}\r\n                        inputProps={{\r\n                            name: '_serverTarget',\r\n                            id: '_serverTarget',\r\n                        }}\r\n                        fullWidth\r\n                    >\r\n                        <MenuItem key=\"serverTarget_c\" value=\"c\">Container</MenuItem>\r\n                        <MenuItem key=\"serverTarget_h\" value=\"h\">Host</MenuItem>\r\n                        <MenuItem key=\"serverTarget_e\" value=\"e\">External</MenuItem>\r\n                    </Select>\r\n                    <div className=\"invalid-feedback\"></div>\r\n                </FormControl>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockContainers\r\n     */\r\n    getDialogFormBlockContainers() {\r\n        return <Grid item xs={4} style={{ textAlign: 'left' }}>\r\n            {this.state._serverTarget == 'c' && <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel htmlFor=\"_selectedContainers\">Containers</InputLabel>\r\n                    <Select\r\n                        required\r\n                        multiple\r\n                        value={this.state._selectedContainers}\r\n                        onChange={(event) => {\r\n                            this.setState({ _selectedContainers: event.target.value });\r\n                        }}\r\n                        renderValue={selected => this.props.containers.filter(n => selected.indexOf(n.id) > -1).map(n => n.name).join(', ')}\r\n                        inputProps={{\r\n                            name: '_selectedContainers',\r\n                            id: '_selectedContainers',\r\n                        }}\r\n                        MenuProps={MenuProps}\r\n                        fullWidth\r\n                    >\r\n                        {this.props.containers.map((c) => {\r\n                            // if (!c.nginxConfigId || c.nginxConfigId == this.state._id) {\r\n                            return <MenuItem key={c.name} value={c.id}>\r\n                                <Checkbox checked={this.props.containers.filter(n => this.state._selectedContainers.indexOf(n.id) > -1).map(n => n.name).indexOf(c.name) > -1} />\r\n                                <ListItemText primary={c.name} />\r\n                            </MenuItem>;\r\n                            // } else {\r\n                            //     return null;\r\n                            // }\r\n                        })}\r\n                    </Select>\r\n                    <div className=\"invalid-feedback\"></div>\r\n                </FormControl>\r\n            </div>}\r\n\r\n            {this.state._serverTarget == 'e' && <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <TextField\r\n                    required\r\n                    name=\"_proxyPath\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._proxyPath}\r\n                    onChange={(e) => {\r\n                        this.setState({ _proxyPath: e.target.value });\r\n                    }}\r\n                    label=\"Proxy path\"\r\n                    type=\"text\"\r\n                    fullWidth />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>}\r\n\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * getDialogFormBlockProxyTarget\r\n     */\r\n    getDialogFormBlockProxyTarget() {\r\n        return <Grid item xs={8} style={{ textAlign: 'left' }}>\r\n            <div className={\"form-group\"} style={{ textAlign: 'left' }}>\r\n                <TextField\r\n                    required\r\n                    name=\"_proxyPath\"\r\n                    className={\"form-control\"}\r\n                    value={this.state._proxyPath}\r\n                    onChange={(e) => {\r\n                        this.setState({ _proxyPath: e.target.value });\r\n                    }}\r\n                    label=\"Proxy path\"\r\n                    type=\"text\"\r\n                    fullWidth />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        let tblHeader = this.tableHeader();\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <div className={classes.tableTitleDiv}>Nginx configuration</div>\r\n                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={\r\n                    this.setSelected.bind(this, \"ADD\", {})\r\n                }>New</Button>\r\n                <Table className={classes.table}>\r\n                    {tblHeader && <TableHead>\r\n                        {tblHeader}\r\n                    </TableHead>}\r\n                    <TableBody>\r\n                        {this.props.nginxConfigs.map(row => {\r\n                            let cellClasses = [classes.tableCell];\r\n                            cellClasses = cellClasses.join(' ');\r\n                            return this.tableRow(cellClasses, (this.state.selected && this.state.selected.id === row.id), this.state._id ? this.state._id : null, row);\r\n                        })}\r\n                        {this.props.nginxConfigs.length == 0 && <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }} colSpan={2}>\r\n                                <Typography variant=\"caption\">-none-</Typography>\r\n                            </TableCell>\r\n                        </TableRow>}\r\n                    </TableBody>\r\n                </Table>\r\n                {/* Loading indicator */}\r\n                {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n\r\n                {/* ********************************************** EDITOR DIALOG ********************************************** */}\r\n                <Dialog\r\n                    TransitionComponent={Transition}\r\n                    open={this.state.selected ? true : false}\r\n                    onClose={this.handleDialogClose}\r\n                >\r\n                    <AppBar className={classes.appBar}>\r\n                        <Toolbar>\r\n                            <IconButton color=\"inherit\" onClick={this.handleDialogClose} aria-label=\"Close\">\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                                {this.state.mode === \"EDIT\" ? \"Edit\" : \"Add\"} Nginx configuration\r\n                            </Typography>\r\n                            <Button color=\"inherit\" onClick={this.saveDialogData}>\r\n                                Save\r\n                            </Button>\r\n                            {this.state.mode === \"EDIT\" &&\r\n                                <Button color=\"secondary\" onClick={this.deleteDialogData}>\r\n                                    Delete\r\n                                </Button>\r\n                            }\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <div className={classes.formDiv}>\r\n                        {this.state.selected && <ValidatorForm ref={form => (this.formEl = form)}>\r\n                            <div className={\"form-group\"}>\r\n                                <Grid container spacing={16}>\r\n                                    {this.getDialogFormBlockName()}\r\n                                    {this.getDialogFormBlockUriPath()}\r\n                                    {this.getDialogFormBlockIsSubdomain()}\r\n                                    {this.getDialogFormBlockSubdomain()}\r\n                                    {this.getDialogFormBlockDomain()}\r\n                                    {this.getDialogFormBlockBasicAuth()}\r\n                                    {this.getDialogFormBlockServerTarget()}\r\n                                    {this.state._serverTarget == 'c' && this.getDialogFormBlockContainers()}\r\n                                    {this.state._serverTarget != 'e' && this.getDialogFormBlockPort()}\r\n                                    {this.state._serverTarget == 'e' && this.getDialogFormBlockProxyTarget()}\r\n                                    {this.getDialogFormBlockPresetParams()}\r\n                                </Grid>\r\n                            </div>\r\n                        </ValidatorForm>}\r\n                    </div>\r\n                </Dialog>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    nginxConfigs: state.nginxConfigs,\r\n    containers: state.containers,\r\n    domains: state.domains,\r\n    basicAuth: state.basicAuth,\r\n    nginxPresetParams: state.nginxPresetParams,\r\n    nginxDockerLinks: state.nginxDockerLinks\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NginxPresetsTable));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport styles from '../styles.js';\r\nimport SharableView from '../../elements/SharableView/index';\r\nimport LoadingIndicator from \"../../elements/LoadingIndicator/index\";\r\nimport DomainsTable from '../../elements/TableEditors/domains';\r\nimport BasicAuthTable from '../../elements/TableEditors/basicAuth';\r\nimport NGinxPresetParamsTable from '../../elements/TableEditors/nginxPresetParams';\r\nimport NGinxConfigsTable from '../../elements/TableEditors/nginxConfigs';\r\n\r\nimport { Button } from '@material-ui/core';\r\nimport AlertSnackbars from '../../elements/AlertBar/index';\r\n\r\nclass NginxConfigurationsPage extends React.Component {\r\n    sharedView = null\r\n\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: false,\r\n            loadingMessage: null,\r\n\r\n            snackOpen: false,\r\n            snackMessage: \"\",\r\n            snackVariant: null\r\n        };\r\n    }\r\n\r\n    /**\r\n     * openSnack\r\n     * @param {*} message \r\n     * @param {*} variant \r\n     */\r\n    openSnack(message, variant) {\r\n        this.setState({ snackOpen: true, snackMessage: message, snackVariant: variant ? variant : \"success\" });\r\n    }\r\n\r\n    /**\r\n     * loadingStateChange\r\n     * @param {*} state \r\n     * @param {*} message \r\n     */\r\n    loadingStateChange(state, message) {\r\n        this.setState({ loading: state, loadingMessage: message });\r\n    }\r\n\r\n    /**\r\n     * handleSnackClose\r\n     */\r\n    handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ snackOpen: false });\r\n    };\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        // If loged in, redirect to boardingpass page\r\n        if (!this.props.userSession.token) {\r\n            return <Redirect to='/login' />\r\n        }\r\n\r\n        return (\r\n            <SharableView\r\n                ref={(el) => this.sharedView = el}\r\n                history={this.props.history}\r\n                pageIndex={2}\r\n                notify={this.openSnack.bind(this)}\r\n            >\r\n                {/* {!this.state.loading &&  */}\r\n                <Grid item xs={12}>\r\n                    <Grid container spacing={16}>\r\n                        <Grid item xs={4}>\r\n                            <Grid container spacing={16}>\r\n                                <Grid item xs={12}>\r\n                                    <DomainsTable notify={this.openSnack.bind(this)} setLoading={this.loadingStateChange.bind(this)}></DomainsTable>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <NGinxPresetParamsTable notify={this.openSnack.bind(this)}></NGinxPresetParamsTable>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <BasicAuthTable notify={this.openSnack.bind(this)}></BasicAuthTable>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <NGinxConfigsTable notify={this.openSnack.bind(this)}></NGinxConfigsTable>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                {/* } */}\r\n\r\n                <LoadingIndicator show={this.state.loading} message={this.state.loadingMessage} />\r\n\r\n                <AlertSnackbars\r\n                    open={this.state.snackOpen}\r\n                    handleClose={this.handleSnackClose}\r\n                    message={this.state.snackMessage}\r\n                    variant={this.state.snackVariant}\r\n                />\r\n\r\n            </SharableView>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    userSession: state.userSession,\r\n    domains: state.domains,\r\n    nginxConfigs: state.nginxConfigs,\r\n    nginxPresetParams: state.nginxPresetParams\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NginxConfigurationsPage));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ValidatorForm from \"../../elements/ValidationForm/index\";\r\nimport LoadingIndicator from \"../../elements/LoadingIndicator\";\r\nimport {\r\n    Paper,\r\n    Grid,\r\n    Button,\r\n    TextField,\r\n    Divider\r\n} from '@material-ui/core';\r\nimport styles from '../styles.js';\r\nimport SharableView from '../../elements/SharableView/index';\r\nimport AlertSnackbars from '../../elements/AlertBar/index';\r\nimport API from \"../../../services/API\";\r\n\r\nclass NginxConfigurationsPage extends React.Component {\r\n    sharedView = null\r\n\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            // loading: false\r\n            snackOpen: false,\r\n            snackMessage: \"\",\r\n            snackVariant: null,\r\n            _nginxConfigPath: \"\",\r\n            _composeConfigPath: \"\",\r\n            _defaultNginxDomain: \"\",\r\n            _nginxHtpasswdDir: \"\"\r\n        };\r\n    }\r\n\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    componentDidMount() {\r\n        this.setState({\r\n            \"loading\": true,\r\n            \"loadingMessage\": null\r\n        });\r\n        setTimeout(() => {\r\n            let stateForm = {\r\n                \"loading\": false,\r\n                \"loadingMessage\": null\r\n            };\r\n            this.props.settings.map(s => {\r\n                stateForm[\"_\" + s.name] = s.value;\r\n            });\r\n            this.setState(stateForm);\r\n        }, 1000);\r\n    }\r\n\r\n    /**\r\n     * openSnack\r\n     * @param {*} message \r\n     * @param {*} variant \r\n     */\r\n    openSnack(message, variant) {\r\n        this.setState({ snackOpen: true, snackMessage: message, snackVariant: variant ? variant : \"success\" });\r\n    }\r\n\r\n    /**\r\n     * handleSnackClose\r\n     */\r\n    handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ snackOpen: false });\r\n    };\r\n\r\n    /**\r\n     * saveSettings\r\n     */\r\n    async saveSettings(event) {\r\n        let isValide = this.formEl.validate();\r\n        if (isValide) {\r\n            this.setState({\r\n                \"loading\": true,\r\n                \"loadingMessage\": \"Saving...\"\r\n            });\r\n            let newSettings = [];\r\n            for (let key in this.state) {\r\n                if (key.indexOf(\"_\") == 0) {\r\n                    let name = key.substring(1);\r\n                    let obj = {\r\n                        \"id\": this.props.settings.find(s => s.name == name).id,\r\n                        \"name\": name,\r\n                        \"value\": this.state[key]\r\n                    };\r\n                    newSettings.push(obj);\r\n                    await API.endpoints.Settings.update(obj);\r\n                }\r\n            }\r\n\r\n            this.props.dispatch({\r\n                type: \"SET_SETTINGS\",\r\n                data: newSettings\r\n            });\r\n            this.setState({\r\n                \"loading\": false,\r\n                \"loadingMessage\": null\r\n            });\r\n            this.openSnack(\"Settings saved\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * setting\r\n     */\r\n    getSettingField(setting) {\r\n        const { literals } = this.props;\r\n        return <Grid item xs={12} style={{ textAlign: 'left', paddingBottom: 20 }}>\r\n            <div className={\"form-group\"}>\r\n                <TextField\r\n                    required\r\n                    name={\"_\" + setting.name}\r\n                    className={\"form-control\"}\r\n                    value={this.state[\"_\" + setting.name]}\r\n                    onChange={(e) => {\r\n                        let state = {};\r\n                        state[\"_\" + setting.name] = e.target.value;\r\n                        this.setState(state);\r\n                    }}\r\n                    label={literals.settings[setting.name]}\r\n                    type=\"text\"\r\n                    fullWidth />\r\n                <div className=\"invalid-feedback\"></div>\r\n            </div>\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        // If loged in, redirect to boardingpass page\r\n        if (!this.props.userSession.token) {\r\n            return <Redirect to='/login' />\r\n        }\r\n\r\n        const { classes } = this.props;\r\n\r\n        this.props.settings.sort((a, b) => {\r\n            if (a.id < b.id)\r\n                return -1;\r\n            if (a.id > b.id)\r\n                return 1;\r\n            return 0;\r\n        });\r\n\r\n        return (\r\n            <SharableView\r\n                ref={(el) => this.sharedView = el}\r\n                history={this.props.history}\r\n                pageIndex={3}\r\n                notify={this.openSnack.bind(this)}\r\n            >\r\n                {/* {!this.state.loading &&  */}\r\n                <Grid item xs={12}>\r\n                    <Grid container spacing={16}>\r\n                        <Grid item xs={12}>\r\n                            <Paper className={classes.paper}>\r\n                                <div className={classes.tableTitleDiv}>Settings</div>\r\n                                <Divider variant=\"middle\" style={{ marginLeft: 0, marginRight: 0, marginTop: 0, marginBottom: 20 }} />\r\n                                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\", position: 'absolute', right: 10, top: 10 }} onClick={this.saveSettings.bind(this)}>Save</Button>\r\n                                <ValidatorForm ref={form => (this.formEl = form)}>\r\n                                    <div style={{ padding: 10 }}>\r\n                                        {this.props.settings.map(s => <div key={\"setting\" + s.id} className={\"form-group\"}>\r\n                                            <Grid container spacing={16}>\r\n                                                {this.getSettingField(s)}\r\n                                            </Grid>\r\n                                        </div>\r\n                                        )}\r\n                                    </div>\r\n                                </ValidatorForm>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                {/* } */}\r\n\r\n                <AlertSnackbars\r\n                    open={this.state.snackOpen}\r\n                    handleClose={this.handleSnackClose}\r\n                    message={this.state.snackMessage}\r\n                    variant={this.state.snackVariant}\r\n                />\r\n\r\n                <LoadingIndicator show={this.state.loading} />\r\n            </SharableView>\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    userSession: state.userSession,\r\n    settings: state.settings,\r\n    literals: state.literals\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NginxConfigurationsPage));","import React from 'react'\r\nimport logo from '../../../logo.svg';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Paper, Grid, TextField, Button } from '@material-ui/core';\r\nimport { Face, Fingerprint } from '@material-ui/icons';\r\nimport ValidatorForm from \"../../elements/ValidationForm/index\";\r\nimport Authentication from '../../../services/authentication';\r\nimport { Redirect } from 'react-router-dom';\r\nimport AlertSnackbars from '../../elements/AlertBar/index';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    title: {\r\n        fontSize: 32,\r\n        color: '#ffffff'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing.unit,\r\n        width: 400,\r\n    },\r\n    margin: {\r\n        margin: theme.spacing.unit * 2,\r\n    },\r\n    padding: {\r\n        padding: theme.spacing.unit\r\n    },\r\n    modalPaper: {\r\n        position: 'absolute',\r\n        width: theme.spacing.unit * 50,\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing.unit * 4,\r\n    },\r\n});\r\n\r\n/**\r\n * LoginPage\r\n */\r\nclass LoginPage extends React.Component {\r\n    /**\r\n     * constructor\r\n     * @param {*} props \r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            snackOpen: false,\r\n            snackMessage: \"\",\r\n            snackVariant: null,\r\n            username: \"admin\",\r\n            password: \"mdundek.heart\"\r\n        };\r\n    }\r\n\r\n    /**\r\n     * handleSnackClose\r\n     */\r\n    handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        this.setState({ snackOpen: false });\r\n    };\r\n\r\n    /**\r\n     * login\r\n     */\r\n    login() {\r\n        let isValide = this.formEl.validate();\r\n        if (isValide) {\r\n            // Build return object\r\n            let formData = {\r\n                \"password\": this.state.password\r\n            };\r\n            if (this.state.username.indexOf('@') === -1) {\r\n                formData.username = this.state.username;\r\n            } else {\r\n                formData.email = this.state.username;\r\n            }\r\n\r\n            // Try to login on the sdf server\r\n            Authentication.login(formData).then(() => { }).catch((err) => {\r\n                this.setState({\r\n                    snackOpen: true,\r\n                    snackVariant: \"error\",\r\n                    snackMessage: err.status === 401 ? \"Wrong username or password\" : err.status === 403 ? \"User is not an administrator\" : \"An error occured, please try again later\"\r\n                });\r\n                console.log(\"ERROR =>\", err);\r\n            });\r\n        }\r\n        // if (this.state.username.trim().length === 0 || this.state.password.trim().length === 0) {\r\n        //     this.setState({\r\n        //         snackOpen: true,\r\n        //         snackVariant: \"error\",\r\n        //         snackMessage: \"Invalide form\"\r\n        //     });\r\n        //     return;\r\n        // }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * getModalStyle\r\n     */\r\n    getModalStyle() {\r\n        const top = 50;\r\n        const left = 50;\r\n        return {\r\n            top: `${top}%`,\r\n            left: `${left}%`,\r\n            transform: `translate(-${top}%, -${left}%)`,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    render() {\r\n        // If loged in, redirect to boardingpass page\r\n        if (this.props.userSession.token) {\r\n            return <Redirect to='/solution' />\r\n        }\r\n\r\n        const { classes } = this.props;\r\n        return (\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n                    <p>Server Docker Farm</p>\r\n                </header>\r\n                <div className=\"App-body\">\r\n                    <Grid item xs={12} style={{ marginTop: 100 }}>\r\n                        <Grid container justify=\"center\" spacing={16}>\r\n                            <Grid item xs={12} className={classes.title}>\r\n                                LOGIN\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Paper className={classes.paper}>\r\n                                    <ValidatorForm ref={form => (this.formEl = form)}>\r\n                                        <div className={classes.margin}>\r\n                                            <Grid container spacing={32} alignItems=\"flex-end\">\r\n                                                <Grid item>\r\n                                                    <Face />\r\n                                                </Grid>\r\n                                                <Grid item md={true} sm={true} xs={true}>\r\n                                                    <div className={\"form-group\"}>\r\n                                                        <TextField\r\n                                                            id=\"username\"\r\n                                                            value={this.state.username}\r\n                                                            onChange={(e) => { this.setState({ username: e.target.value }) }}\r\n                                                            label=\"Username\"\r\n                                                            type=\"text\"\r\n                                                            fullWidth\r\n                                                            autoFocus\r\n                                                            required />\r\n                                                        <div className=\"invalid-feedback\"></div>\r\n                                                    </div>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                            <Grid container spacing={32} alignItems=\"flex-end\">\r\n                                                <Grid item>\r\n                                                    <Fingerprint />\r\n                                                </Grid>\r\n                                                <Grid item md={true} sm={true} xs={true}>\r\n                                                    <div className={\"form-group\"}>\r\n                                                        <TextField\r\n                                                            id=\"password\"\r\n                                                            value={this.state.password}\r\n                                                            onChange={(e) => { this.setState({ password: e.target.value }) }}\r\n                                                            label=\"Password\"\r\n                                                            type=\"password\"\r\n                                                            fullWidth\r\n                                                            required />\r\n                                                        <div className=\"invalid-feedback\"></div>\r\n                                                    </div>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                            <Grid container justify=\"center\" style={{ marginTop: '40px' }}>\r\n                                                <Button variant=\"contained\" color=\"primary\" style={{ textTransform: \"none\" }} onClick={this.login.bind(this)} fullWidth>Login</Button>\r\n                                            </Grid>\r\n                                        </div>\r\n                                    </ValidatorForm>\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <AlertSnackbars\r\n                    open={this.state.snackOpen}\r\n                    handleClose={this.handleSnackClose}\r\n                    message={this.state.snackMessage}\r\n                    variant={this.state.snackVariant}\r\n                />\r\n\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\n// The function takes data from the app current state,\r\n// and insert/links it into the props of our component.\r\n// This function makes Redux know that this component needs to be passed a piece of the state\r\nconst mapStateToProps = (state, props) => ({\r\n    userSession: state.userSession\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({ \"dispatch\": dispatch });\r\n\r\n//Connect everything\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LoginPage));","import en from \"./en.json\";\n\nconst langs = {\n  en\n};\n\nexport default function (lang = \"en\") {\n  return langs[lang];\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/store';\nimport Authentication from './services/authentication';\nimport PubSubController from './services/sockerPubSub';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport SolutionConfigurationPage from './components/pages/SolutionConfigurations/SolutionConfigurations';\nimport DockerConfigurationsPage from './components/pages/DockerConfigurations/DockerConfigurations';\nimport NginxConfigurationsPage from './components/pages/NGinxConfigurations/NGinxConfigurations';\nimport SettingsConfigurationsPage from './components/pages/SettingsConfigurations/SettingsConfigurations';\nimport LoginPage from './components/pages/Login/Login';\nimport loadLang from \"./i18n\";\n\nlet store = configureStore();\n// Set store instance for Authentication service\nAuthentication.store = store;\nPubSubController.store = store;\n\n// Load labels into store\nstore.dispatch({\n    type: \"LOAD_LITERALS\",\n    data: loadLang(\"en\"),\n});\n\n// Check to see if user session exists\nif (sessionStorage.accessToken && sessionStorage.accessToken !== \"null\") {\n    (async () => {\n        await Authentication.setUser(JSON.parse(sessionStorage.accessToken));\n    })();\n}\n\nconst routing = (\n    <Router basename=\"/psh-admin\">\n        <Provider store={store}>\n            <div>\n                <Route exact path=\"/\" component={App} />\n                <Route path=\"/login\" component={LoginPage} />\n                <Route path=\"/solution\" component={SolutionConfigurationPage} />\n                <Route path=\"/docker\" component={DockerConfigurationsPage} />\n                <Route path=\"/nginx\" component={NginxConfigurationsPage} />\n                <Route path=\"/config\" component={SettingsConfigurationsPage} />\n            </div>\n        </Provider>\n    </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nexport default routing;\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}